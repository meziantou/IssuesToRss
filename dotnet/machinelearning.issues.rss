<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
  <channel>
    <title>dotnet/machinelearning Issues</title>
    <description>Issues from https://github.com/dotnet/machinelearning, generated by https://github.com/meziantou/IssuesToRss/</description>
    <managingEditor>meziantousite@outlook.com</managingEditor>
    <ttl>60</ttl>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6336</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6336</link>
      <title>Issue: Manually Trigger Engine Pool Refresh that's From URI - @KevinDJones</title>
      <description>&lt;p&gt;&lt;strong&gt;Is your feature request related to a problem? Please describe.&lt;/strong&gt;
I'm using the prediction engine pool from a URI as such:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;services.AddPredictionEnginePool&amp;lt;ModelInput, ModelOutput&amp;gt;().FromUri(
    uri: $&amp;quot;{URI}&amp;quot;,
    period: TimeSpan.FromMinutes(5));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which is working great. However, I'd like to be able to get the engine pool updated on demand, rather than waiting up to 5 minutes for it to refresh itself.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;
Perhaps a method on the &lt;code&gt;PredictionEnginePool&lt;/code&gt; class that allows for a refresh i.e. &lt;code&gt;predictionEnginePool.RefreshFromUri()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;
Can certainly shorten the period, but it seems unnecessary to have it checking every 30 seconds when I know exactly when it needs to update.&lt;/p&gt;
&lt;p&gt;It could also be a local file using &lt;code&gt;FromFile&lt;/code&gt; but the model lives elsewhere and I'd like it to stay that way.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Is this something that has been explored at all? I'm not opposed to taking a stab at it but want to make sure it's not something that's already been discussed/attempted/etc.&lt;/p&gt;
</description>
      <pubDate>Thu, 22 Sep 2022 23:50:57 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6334</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6334</link>
      <title>Issue: Add ReplaceMissingTimeSeriesValues to docs - @luisquintanilla</title>
      <description>&lt;p&gt;Add &lt;a href="https://github.com/dotnet/machinelearning/blob/0577957256c296fdea2deb6b6e00e7be9b458167/src/Microsoft.ML.Featurizers/TimeSeriesImputer.cs"&gt;&lt;code&gt;ReplaceMissingTimeSeriesValues&lt;/code&gt;&lt;/a&gt; to reference API docs. It's missing from the latest 1.7.0 and 2.0.0 versions.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://learn.microsoft.com/dotnet/api/?view=ml-dotnet&amp;amp;preserve-view=true&amp;amp;term=ReplaceMissingTimeSeriesValues"&gt;.NET API Browser&lt;/a&gt;&lt;/p&gt;
</description>
      <pubDate>Tue, 20 Sep 2022 15:24:05 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6333</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6333</link>
      <title>Issue: Add FeaturizeDateTime transform to docs - @luisquintanilla</title>
      <description>&lt;p&gt;Add &lt;a href="https://github.com/dotnet/machinelearning/blob/0577957256c296fdea2deb6b6e00e7be9b458167/src/Microsoft.ML.Featurizers/DateTimeTransformer.cs"&gt;&lt;code&gt;FeaturizeDateTime&lt;/code&gt;&lt;/a&gt; transform to API docs. Currently it doesn't show up for the latest 1.7.0 and 2.0.0-preview versions.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://learn.microsoft.com/dotnet/api/?view=ml-dotnet-2.0.0&amp;amp;term=FeaturizeDateTime"&gt;.NET API Browser&lt;/a&gt;&lt;/p&gt;
</description>
      <pubDate>Tue, 20 Sep 2022 15:14:21 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6332</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6332</link>
      <title>Issue: DataView.GetColumn: Multiple columns with same name but different type - @torronen</title>
      <description>&lt;p&gt;&lt;strong&gt;Is your feature request related to a problem? Please describe.&lt;/strong&gt;
I am running model.Transform.&lt;/p&gt;
&lt;p&gt;Then, I am would like to get the original field &amp;quot;Quote&amp;quot; with type string.
I would expect the following to work, but it gives an exception about wrong type:
&lt;code&gt;IDataView predictions= model.Transform(myDataFrame); var quotes = predictions.GetColumn&amp;lt;string&amp;gt;(&amp;quot;Quotes&amp;quot;).ToList();&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The problem seems to be transforms (Micorsoft.ML.AutoML in 1.6.0) has created transforms to different types.
&lt;img src="https://user-images.githubusercontent.com/26261427/191181885-98105788-c6f7-4da9-b46e-b0cfce1f0c7b.png" alt="image" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;'Cannot map column (name: Quote, type: Vector&amp;lt;Single, 2&amp;gt;) in data to the user-defined type, System.String. Arg_ParamName_Name'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;
GetColumn should try to find column with the specified type &lt;string&gt; if multiple columns with the same name exists.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;
I have not yet solved this issue.&lt;/p&gt;
&lt;p&gt;I suppose my solution will be :&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;get the values before Transform()&lt;/li&gt;
&lt;li&gt;looping through all columns and checking type and name would work.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Additional data&lt;/strong&gt;
I would like to get the column here to be sure the row-order is the same.&lt;/p&gt;
&lt;p&gt;I assume Transform() should preserve order(?) . If so, then I suppose this is not a very important issue.&lt;/p&gt;
</description>
      <pubDate>Tue, 20 Sep 2022 06:29:14 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6331</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6331</link>
      <title>Issue: Column CustomMapping overload - @luisquintanilla</title>
      <description>&lt;h2&gt;Problem&lt;/h2&gt;
&lt;p&gt;When I want to apply a custom transform to a single data column in my dataset, I have to provide the input and output types. If I've used TextLoader to load my data without defining schema classes, I now have to go and create new classes for my input and output.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var cols = new [] 
{
    new TextLoader.Column(name: &amp;quot;Text&amp;quot;,dataKind:DataKind.String,index:47),
    new TextLoader.Column(
        name: &amp;quot;Categorical&amp;quot;,
        dataKind: DataKind.String,
        source: new TextLoader.Range[] {
            new TextLoader.Range(19),
            new TextLoader.Range(20),
            new TextLoader.Range(21),
            new TextLoader.Range(50),
            new TextLoader.Range(59),
            new TextLoader.Range(71),
            new TextLoader.Range(83)}),
    new TextLoader.Column(name:&amp;quot;Label&amp;quot;,dataKind:DataKind.String,2)
};

var dataLoader = ctx.Data.CreateTextLoader(columns:cols);
var idv = dataLoader.Load(path);

public class CustomData {public string Text {get;set;}};

Action&amp;lt;CustomData,CustomData&amp;gt; customTransform = (rowIn,rowOut) =&amp;gt; {
    rowIn.Text = rowOut.Text.ToUpper()
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Proposed Solution&lt;/h2&gt;
&lt;p&gt;Create an overload to &lt;code&gt;CustomMapping&lt;/code&gt; that takes an InputColumnName and OutputColumnName parameters which perform the lookup and apply the transform to the specified columns.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;Action&amp;lt;string,string&amp;gt; capitalize = (colIn,colOut) =&amp;gt; 
{
    colOut = colIn.ToUpper();
}

var capitalizeTransform = ctx.Transforms.CustomMapping(capitalize,&amp;quot;capitalizeTransform&amp;quot;,inputColumnName: &amp;quot;Text&amp;quot;, outputColumnName: &amp;quot;CapitalizedText&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
</description>
      <pubDate>Tue, 20 Sep 2022 02:28:22 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6330</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6330</link>
      <title>Issue: Infer T in CreateEnumerable&lt;T&gt; based in DataView schema - @luisquintanilla</title>
      <description>&lt;h2&gt;Problem&lt;/h2&gt;
&lt;p&gt;Today, when an &lt;code&gt;IDataView&lt;/code&gt; is created using &lt;code&gt;TextLoader&lt;/code&gt;, there's no need to create classes that define the schema.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var cols = new [] 
{
    new TextLoader.Column(name: &amp;quot;Text&amp;quot;,dataKind:DataKind.String,index:47),
    new TextLoader.Column(
        name: &amp;quot;Categorical&amp;quot;,
        dataKind: DataKind.String,
        source: new TextLoader.Range[] {
            new TextLoader.Range(19),
            new TextLoader.Range(20),
            new TextLoader.Range(21),
            new TextLoader.Range(50),
            new TextLoader.Range(59),
            new TextLoader.Range(71),
            new TextLoader.Range(83)}),
    new TextLoader.Column(name:&amp;quot;Label&amp;quot;,dataKind:DataKind.String,2)
};

var dataLoader = ctx.Data.CreateTextLoader(columns:cols);
var idv = dataLoader.Load(path);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, if I want to export the &lt;code&gt;IDataView&lt;/code&gt; as an &lt;code&gt;IEnumerable&lt;/code&gt;, I can't because I need to explicitly provide the type of &lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;. If no classes have been created, I now need to go and create a new class just to export to an &lt;code&gt;IEnumerable&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Proposed solution&lt;/h2&gt;
&lt;p&gt;Just like &lt;code&gt;LoadFromEnumerable&lt;/code&gt; is able to infer and create an IDataView from &lt;code&gt;IEnumerable&amp;lt;T&amp;gt;&lt;/code&gt;, &lt;code&gt;CreateEnumerable&lt;/code&gt; should be able to infer &lt;code&gt;T&lt;/code&gt; based on the DataView schema or bind to an object at runtime using &lt;code&gt;dynamic&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;ctx.Data.CreateEnumerable(idv,reuseRowObject:false,ignoreMissingColumns:false)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;ctx.Data.CreateEnumerable&amp;lt;dynamic&amp;gt;(idv,reuseRowObject:false,ignoreMissingColumns:false)
&lt;/code&gt;&lt;/pre&gt;
</description>
      <pubDate>Tue, 20 Sep 2022 02:07:08 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6329</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6329</link>
      <title>Issue: Samples pointing at wrong resources  - @tarekgh</title>
      <description>&lt;p&gt;The following sample is pointing at &lt;code&gt;https://aka.ms/mlnet-resources/datasets/cifar10.zip&lt;/code&gt; but looks this resources is not valid.&lt;/p&gt;
&lt;p&gt;https://github.com/dotnet/machinelearning/blob/bca5736c23e093006bb6a5a3f85a789c4a1cdcf2/docs/samples/Microsoft.ML.Samples/Dynamic/Trainers/MulticlassClassification/ImageClassification/LearningRateSchedulingCifarResnetTransferLearning.cs&lt;/p&gt;
&lt;p&gt;Looks we have code in different places trying to get the same resources from other sources https://github.com/dotnet/machinelearning/blob/bca5736c23e093006bb6a5a3f85a789c4a1cdcf2/docs/samples/Microsoft.ML.AutoML.Samples/Cifar10.cs#L13&lt;/p&gt;
&lt;p&gt;Also there is other samples pointing at &lt;code&gt;https://github.com/onnx/models/tree/master/vision/classification/squeezenet&lt;/code&gt; which exists but the zipped files there contains a different structured files than what the sample expect.
https://github.com/dotnet/machinelearning/blob/04dda55ab0902982b16309c8e151f13a53e9366d/docs/samples/Microsoft.ML.Samples/Dynamic/Transforms/ApplyONNXModelWithInMemoryImages.cs#L16
even the comment suggest there is Microsoft.ML.Onnx.TestModels nuget which not exist either. The correct structured file can be found in https://s3.amazonaws.com/download.onnx/models/opset_8/squeezenet.tar.gz&lt;/p&gt;
</description>
      <pubDate>Mon, 19 Sep 2022 16:17:30 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6328</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6328</link>
      <title>Issue: [ML.Net, c#]  LightGBM re-training and Importing LightGBM CLI/MPI model - @wil70</title>
      <description>&lt;ol&gt;
&lt;li&gt;Can I retrain LightGBM?
1.a. I tried via AutoML and it seems to start from scratch when I do a FIT or I call MLModel1.Training.cs &amp;quot; public static ITransformer RetrainPipeline(MLContext mlContext, IDataView trainData)&amp;quot; auto generated code.
1.b. In the documentation &lt;a href="https://docs.microsoft.com/en-us/dotnet/machine-learning/how-to-guides/retrain-model-ml-net"&gt;&amp;quot;Re-train a model&amp;quot;&lt;/a&gt;, LightGBM is not listed as re-traine-able?
1.b.1. is it still true (asking as the documentation is 9 months old)? TY!
1.b.2 I can see from Python or even XGBM c/c++ you can retrain? using init_model option of lightgbm.train&lt;/li&gt;
&lt;li&gt;Can I use the model generated by &lt;a href="https://lightgbm.readthedocs.io/en/latest/Installation-Guide.html#build-mpi-version"&gt;LightGBM CLI/MPI &lt;/a&gt; in ML.net?
Thanks!&lt;/li&gt;
&lt;/ol&gt;
</description>
      <pubDate>Fri, 16 Sep 2022 14:07:00 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6326</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6326</link>
      <title>Issue: Create Pipeline Visualizer - @luisquintanilla</title>
      <description>&lt;p&gt;Create a visualization method that when given a pipeline displays a visual of the pipeline. This can work both for interactive and standard .NET projects.&lt;/p&gt;
&lt;h2&gt;API&lt;/h2&gt;
&lt;h3&gt;Define pipeline&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;var pipeline = 
    mlContext.Transforms.Concatenate(outputColumnName:&amp;quot;Features&amp;quot;, inputColumnNames: new [] {&amp;quot;Col1&amp;quot;, &amp;quot;Col2&amp;quot; })
        .Append(mlContext.Transforms.ReplaceMissingValues(outputColumnName:&amp;quot;Features&amp;quot;,inputColumnName:&amp;quot;Features&amp;quot;)
        .Append(mlContext.Regression.Trainers.Sdca(labelColumnName:&amp;quot;Label&amp;quot;, featureColumnName:&amp;quot;Features&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Interactive&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;pipeline
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;.NET project&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;pipeline.SaveToImage(&amp;quot;image.png&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Samples&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-mermaid"&gt;flowchart TB;
  subgraph OutputColumns
    OutputSchema[Score]
  end
  subgraph Pipeline
    direction TB
    Concatenate--Features--&amp;gt;ReplaceMissingValues
    ReplaceMissingValues--Features--&amp;gt;Sdca
    click Concatenate &amp;quot;https://docs.microsoft.com/dotnet/api/microsoft.ml.transformextensionscatalog.concatenate?view=ml-dotnet#microsoft-ml-transformextensionscatalog-concatenate(microsoft-ml-transformscatalog-system-string-system-string())&amp;quot;
    click ReplaceMissingValues &amp;quot;https://docs.microsoft.com/dotnet/api/microsoft.ml.extensionscatalog.replacemissingvalues?view=ml-dotnet#microsoft-ml-extensionscatalog-replacemissingvalues(microsoft-ml-transformscatalog-microsoft-ml-inputoutputcolumnpair()-microsoft-ml-transforms-missingvaluereplacingestimator-replacementmode-system-boolean)&amp;quot;
    click Sdca &amp;quot;https://docs.microsoft.com/dotnet/api/microsoft.ml.trainers.sdcaregressiontrainer?view=ml-dotnet&amp;quot;
  end
  subgraph InputColumns
    InputSchema[&amp;quot;Col1, Col2, Label&amp;quot;]
  end
  InputColumns--&amp;gt;Pipeline
  Pipeline--&amp;gt;OutputColumns
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Proposed Implementation&lt;/h2&gt;
&lt;pre&gt;&lt;code class="language-mermaid"&gt;flowchart LR;
    EstimatorChain --&amp;gt; Mermaid
    Mermaid --&amp;gt; Markdig
    Markdig --&amp;gt; HTML
    HTML --&amp;gt; CustomFormatter
    HTML --&amp;gt; Image
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;Take an ML.NET &lt;code&gt;EstimatorChain&lt;/code&gt; and dynamically generate Mermaid diagram.&lt;/li&gt;
&lt;li&gt;Process Mermaid diagram as Markdown using Markdig&lt;/li&gt;
&lt;li&gt;Convert Mermaid diagram to HTML&lt;/li&gt;
&lt;li&gt;Display HTML
&lt;ol&gt;
&lt;li&gt;If in interactive environment, register a custom formatter.&lt;/li&gt;
&lt;li&gt;If in standard .NET application, save as image.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
      <pubDate>Thu, 15 Sep 2022 04:36:54 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6324</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6324</link>
      <title>Issue: ML.Net incorrect results with ONNX model - @crazyoutlook</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS version/distro&lt;/strong&gt;: Windows 10/11&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.NET Version (eg., dotnet --info)&lt;/strong&gt;: Dot Net versions 2.1/5/6
&lt;a href="https://github.com/dotnet/machinelearning/files/9554463/ML.Net_Onnx.zip"&gt;ML.Net_Onnx.zip&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Issue&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;What did you do?&lt;/strong&gt;
I created a object detection model in Azure Custom Vision then exported it as ONNX and tried consuming it with ML.Net. I am using following ML package versions : Microsoft.ML (1.4.0), Microsoft.ML.ImageAnalytics (1.4.0). Microsoft.ML.OnnxTransformer (1.4.0)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;What happened?&lt;/strong&gt;
ML.Net with ONNX model is giving me incorrect prediction results or no results or very poor confidence levels.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;What did you expect?&lt;/strong&gt;
I am expecting correct results when working with ONNX model and ML.Net. To re-confirm the issue I consumed same ONNX model with Python code and it worked correct and prediction results were as expected. So there does not seem to be any issue with ONNX model file. The issue seems to be with ML.Net code in the way predictions are done&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Source code / logs&lt;/h3&gt;
&lt;p&gt;I am attaching ML.Net source code which I am using to consume ONNX model&lt;/p&gt;
&lt;p&gt;Please paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.&lt;/p&gt;
</description>
      <pubDate>Tue, 13 Sep 2022 07:20:39 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6322</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6322</link>
      <title>Issue: Machine Learning for .NET Developers Survey - 2022 - @luisquintanilla</title>
      <description>&lt;p&gt;Every year we conduct a survey to gather feedback on pain points and feature requests that help shape the direction of Machine Learning in .NET.&lt;/p&gt;
&lt;p&gt;This past year we have made major improvements to &lt;a href="https://dot.net/ml"&gt;ML.NET&lt;/a&gt; tooling and APIs, and now we're investigating new areas to improve and grow, including documentation, data prep, notebooks, deep learning, MLOps, model explainability, and more.&lt;/p&gt;
&lt;p&gt;Please take this ~10 minute survey to give your input on what you want to see next in ML.NET, and optionally leave your contact information at the end if you'd like to talk with the ML.NET team about your feedback.&lt;/p&gt;
&lt;h2&gt;&lt;a href="https://www.surveymonkey.com/r/mlnet-gh-2022"&gt;Take the Survey&lt;/a&gt;&lt;/h2&gt;
</description>
      <pubDate>Mon, 12 Sep 2022 14:34:14 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6321</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6321</link>
      <title>Issue: Suspicious fragments found by PVS-Studio Static Analyzer - @AM-Site1</title>
      <description>&lt;p&gt;Hey!&lt;/p&gt;
&lt;p&gt;I checked the ML.NET framework with the PVS-Studio static code analyzer. I described the suspicious code fragments detected by the analyzer in my article ''&lt;a href="https://pvs-studio.com/en/blog/posts/csharp/0988/"&gt;ML.NET: can Microsoft's machine learning be trusted?&lt;/a&gt;''. I thought you might be interested to read it.&lt;/p&gt;
</description>
      <pubDate>Mon, 12 Sep 2022 14:33:16 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6320</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6320</link>
      <title>Issue: Add resource (CPU,RAM,GPU,thread count) monitoring to AutoML experiments - @andrasfuchs</title>
      <description>&lt;p&gt;&lt;strong&gt;Is your feature request related to a problem? Please describe.&lt;/strong&gt;
As others also experienced, AutoML training is heavy on CPU and RAM and it can cause slowdowns and crashes (#6175, #6286, #6288, #6297). I sometimes run into an issue where some of my trials run longer than expected, potentially because my systems ran out of one of my resources. I had a few system crashes as well, when running AutoML forced Windows to start closing other applications.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;
It would be great to have more information about the running AutoML trials, including how much CPU, RAM, GPU are using on how many threads. Ideally it would be included in a new, periodically called method on AutoML's &lt;a href="https://github.com/dotnet/machinelearning/blob/main/src/Microsoft.ML.AutoML/AutoMLExperiment/IMonitor.cs"&gt;IMonitor interface&lt;/a&gt;.
If this was combined with an extended experiment control (&lt;a href="https://github.com/dotnet/machinelearning/issues/5736#issuecomment-1243329798"&gt;#5736&lt;/a&gt;), we could make clever decisions about a trial or experiment depending on its resource usage. We could pause the experiment if the system is out of resources, or even cancel a trial if it uses suspiciously high amount of RAM to prevent system failure, for example. (As it happens sometimes with my experiments.)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;
Well, theoretically I could monitor my system resources constantly on a separate thread, but I still couldn't determine if AutoML is the reason for an elevated CPU, RAM or GPU usage, or something else running on the system independently from AutoML.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
This issue is related to AutoML experiment resource usage limiting (#6061) and AutoML experiment control (#5736).&lt;/p&gt;
</description>
      <pubDate>Mon, 12 Sep 2022 07:56:26 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6317</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6317</link>
      <title>Issue: TextFeaturizingEstimator.Options KeepNumbers and KeepPunctuations not exportable to ONNX? - @jonathanpeppers</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 10&lt;/li&gt;
&lt;li&gt;.NET Version: .NET 6&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class="language-xml"&gt;&amp;lt;PackageReference Update=&amp;quot;Microsoft.ML&amp;quot; Version=&amp;quot;2.0.0-preview.22410.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Update=&amp;quot;Microsoft.ML.OnnxConverter&amp;quot; Version=&amp;quot;0.20.0-preview.22410.1&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;As seen here: https://github.com/jonathanpeppers/inclusive-code-reviews-ml/pull/29#discussion_r944879120&lt;/p&gt;
&lt;p&gt;A pipeline such as:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;            var dataProcessPipeline = mlContext.Transforms.Conversion.MapValueToKey(&amp;quot;isnegative&amp;quot;, &amp;quot;isnegative&amp;quot;)
                                      .Append(mlContext.Transforms.Text.FeaturizeText(&amp;quot;text_tf&amp;quot;, new TextFeaturizingEstimator.Options
                                      {
                                          //NOTE: not exportable to ONNX
                                          KeepNumbers = false,
                                          KeepPunctuations = false,
                                          // NOTE: these work
                                          KeepDiacritics = true,
                                          CaseMode = TextNormalizingEstimator.CaseMode.Lower,
                                      }, &amp;quot;text&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hits an exception such as:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Unhandled exception. System.Collections.Generic.KeyNotFoundException: The given key 'text_TextNormalizer' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at Microsoft.ML.Model.OnnxConverter.OnnxContextImpl.GetVariableName(String colName)
   at Microsoft.ML.Transforms.Text.WordTokenizingTransformer.Mapper.SaveAsOnnx(OnnxContext ctx)
   at Microsoft.ML.Data.RowToRowMapperTransform.Microsoft.ML.Model.OnnxConverter.ISaveAsOnnx.SaveAsOnnx(OnnxContext ctx)
   at Microsoft.ML.Model.OnnxConverter.SaveOnnxCommand.ConvertTransformListToOnnxModel(OnnxContextImpl ctx, IChannel ch, IDataView inputData, IDataView outputData, LinkedList`1 transforms, HashSet`1 inputColumnNamesToDrop, HashSet`1 outputColumnNamesToDrop)
   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnxProtobufCore(IHostEnvironment env, OnnxContextImpl ctx, ITransformer transform, IDataView inputData, String[] outputColumnNamesToKeep)
   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnxProtobuf(ModelOperationsCatalog catalog, ITransformer transfor   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnx(ModelOperationsCatalog catalog, ITransformer transform, IDataView inputData, Stream stream)
   at InclusiveCodeReviews.ConsoleApp.ModelBuilder.SaveModel(MLContext mlContext, IDataView dataView, ITransformer 
mlModel, String modelRelativePath, DataViewSchema modelInputSchema) in C:\src\inclusive-code-reviews-ml\ml.net\InclusiveCodeReviews.ConsoleApp\ModelBuilder.cs:line 102
   at InclusiveCodeReviews.ConsoleApp.ModelBuilder.CreateModel() in C:\src\inclusive-code-reviews-ml\ml.net\InclusiveCodeReviews.ConsoleApp\ModelBuilder.cs:line 49
   at Program.&amp;lt;Main&amp;gt;$(String[] args) in C:\src\inclusive-code-reviews-ml\ml.net\InclusiveCodeReviews.Convert\Program.cs:line 4
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run this project:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://github.com/jonathanpeppers/inclusive-code-reviews-ml/tree/main/ml.net/InclusiveCodeReviews.Convert&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Uncomment these two lines:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://github.com/jonathanpeppers/inclusive-code-reviews-ml/blob/486f7737174702233825ceddf28adb5cc7912f43/ml.net/InclusiveCodeReviews.ConsoleApp/ModelBuilder.cs#L59-L61&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In particular, we want to use &lt;code&gt;KeepPunctuations=false&lt;/code&gt; and export to ONNX.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See above.&lt;/p&gt;
</description>
      <pubDate>Fri, 09 Sep 2022 15:24:02 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6314</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6314</link>
      <title>Issue: Update MacOS vm in building pipeline? - @LittleLittleCloud</title>
      <description>&lt;p&gt;We are using macos_10_15 in building pipeline, which is starting deprecated. We should consider upgrade it to macOS_12&lt;/p&gt;
&lt;p&gt;more info: https://github.com/actions/runner-images/issues/5583&lt;/p&gt;
</description>
      <pubDate>Fri, 02 Sep 2022 18:32:21 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6311</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6311</link>
      <title>Issue: possible wrong value on example table - @superichmann</title>
      <description>&lt;p&gt;The example described in the article consists of test data table value that does not exist in the output table.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;the output of applying this Estimator would keep the first and the third slots only &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In the table the value of the last line is&lt;/p&gt;
&lt;html&gt;
&lt;body&gt;
&lt;!--StartFragment--&gt;
&lt;p&gt;False | 0,5
-- | --&lt;/p&gt;
&lt;!--EndFragment--&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;p&gt;Which perhaps should be&lt;/p&gt;
&lt;html&gt;
&lt;body&gt;
&lt;!--StartFragment--&gt;
&lt;p&gt;False | 0,0
-- | --&lt;/p&gt;
&lt;!--EndFragment--&gt;
&lt;/body&gt;
&lt;/html&gt;
&lt;p&gt;Or maybe the last line of the input table is wrong?&lt;/p&gt;
&lt;html&gt;
&lt;body&gt;
&lt;!--StartFragment--&gt;
&lt;p&gt;False | 0,7,0
-- | --&lt;/p&gt;
&lt;!--EndFragment--&gt;
&lt;/body&gt;
&lt;/html&gt;
---
#### Document Details
&lt;p&gt;⚠ &lt;em&gt;Do not edit this section. It is required for docs.microsoft.com ➟ GitHub issue linking.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ID: 58a8434a-e5b9-a96f-e70a-c281f071d0c9&lt;/li&gt;
&lt;li&gt;Version Independent ID: 26f433a0-138d-54b4-86a8-6c1b0f7088f7&lt;/li&gt;
&lt;li&gt;Content: &lt;a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.transforms.mutualinformationfeatureselectingestimator?view=ml-dotnet"&gt;MutualInformationFeatureSelectingEstimator Class (Microsoft.ML.Transforms)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Content Source: &lt;a href="https://github.com/dotnet/ml-api-docs/blob/live/dotnet/xml/Microsoft.ML.Transforms/MutualInformationFeatureSelectingEstimator.xml"&gt;dotnet/xml/Microsoft.ML.Transforms/MutualInformationFeatureSelectingEstimator.xml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Product: &lt;strong&gt;dotnet-ml-api&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;GitHub Login: @natke&lt;/li&gt;
&lt;li&gt;Microsoft Alias: &lt;strong&gt;nakersha&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Tue, 30 Aug 2022 11:54:00 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6310</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6310</link>
      <title>Issue: High vulnerability alert in Newtonsoft.Json v10.0.3 - @aswin-integration</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information :&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;.NET 5.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
The Microsoft.ML v1.7.1 library currently uses Newtonsoft.Json &lt;strong&gt;v10.0.3&lt;/strong&gt; which have a &lt;a href="https://github.com/advisories/GHSA-5crp-9r3c-p9vr"&gt;'high' level vulnerability reported&lt;/a&gt; . The vulnerability fix is available in Newtonsoft.Json &lt;strong&gt;v13.0.1&lt;/strong&gt; (https://www.nuget.org/packages/Newtonsoft.Json/13.0.1). Is there going to be a official release fixing the dependency of Newtonsoft to the latest ?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
https://github.com/advisories/GHSA-5crp-9r3c-p9vr
https://www.nuget.org/packages/Microsoft.ML/1.7.1#dependencies-body-tab&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Add any other context about the problem here.&lt;/p&gt;
</description>
      <pubDate>Tue, 30 Aug 2022 09:28:51 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6309</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6309</link>
      <title>Issue: [ML.Net c#, CLI, VS Builder] 1KB csv input file. Not sure what to do + NoColumn how-to - @wil70</title>
      <description>&lt;p&gt;I'm have simple data set with 2 fields: c10 and c11. c10 is a float, c11 is a string. First row is the header.
c10,c11
-1,a-1
1,a+1
-1,a-1
1,a+1
0,a+0
1,a+1
1,a+1
-1,a-1
1,a+1
1,a+1
-1,a-1
-1,a-1
-1,a-1
1,a+1
-1,a-1
-1,a-1
-1,a-1
0,a+0
1,a+1
1,a+1
1,a+1
1,a+1
-1,a-1
-1,a-1&lt;/p&gt;
&lt;p&gt;As you can see this is very easy to solve visually:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if -1 is presented the answer is a-1
if +1 is presented the answer is a+1
if 0 is presented the answer is a+0

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If I run AutoML with the VS builder UI, it crash at the end with this&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   at System.Version.VersionResult.SetFailure(ParseFailureKind failure, String argument)
   at System.Version.TryParseVersion(String version, VersionResult&amp;amp; result)
   at System.Version.Parse(String input)
   at System.Version..ctor(String version)
   at Microsoft.ML.ModelBuilder.Utils.Utilities.InstalledVersionNeedsUpdate(String installedString, String requestedString)
   at Microsoft.ML.ModelBuilder.Utils.Utilities.&amp;lt;InstallNugetPackageAsync&amp;gt;d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.ML.ModelBuilder.ViewModels.TrainViewModel.&amp;lt;UpdateNugetDependenciesAsync&amp;gt;d__105.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.ML.ModelBuilder.ViewModels.TrainViewModel.&amp;lt;GenerateCodeBehindFilesAsync&amp;gt;d__104.MoveNext()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is the log&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;		Set log file path to C:\Users\Wilhelm\AppData\Local\Temp\MLVSTools\logs\MLModel1-JSSGYE.txt
		start nni training
		Experiment output folder: C:\Users\Wilhelm\AppData\Local\Temp\AutoML-NNI\Experiment-4BLNIV
		|     Trainer                              MicroAccuracy  MacroAccuracy  Duration #Iteration                     |
		|0    SdcaMaximumEntropyMulti                     0.8250         0.8167       1.7          0                     |
		|1    SdcaLogisticRegressionOva                   0.8250         0.8167       3.5          1                     |
		|2    FastTreeOva                                 0.3967         0.3333       0.9          2                     |
		|3    LightGbmMulti                               0.0783         0.1333       0.2          3                     |
		|4    FastForestOva                               0.1783         0.2333       0.9          4                     |
		|5    SdcaLogisticRegressionOva                   0.8250         0.8167       3.4          5                     |
		|6    SdcaMaximumEntropyMulti                     0.8250         0.8167       0.9          6                     |
		|7    LbfgsMaximumEntropyMulti                    0.8250         0.8167       0.2          7                     |
		|8    LbfgsLogisticRegressionOva                  0.8250         0.8167       0.2          8                     |
		|9    FastTreeOva                                 0.8550         0.8167       0.9          9                     |
		|10   LightGbmMulti                               0.0783         0.1333       0.1         10                     |
		|11   SdcaLogisticRegressionOva                   0.8250         0.8167       3.5         11                     |
		|12   FastForestOva                               0.1783         0.2333       1.1         12                     |
		|13   SdcaMaximumEntropyMulti                     0.8250         0.8167       0.9         13                     |
		|14   LbfgsMaximumEntropyMulti                    0.8250         0.8167       0.1         14                     |
		|15   LightGbmMulti                               0.0783         0.1333       0.1         15                     |
		|16   FastTreeOva                                 0.3967         0.3333       1.2         16                     |
		|17   LbfgsLogisticRegressionOva                  0.6450         0.6667       0.2         17                     |
		|18   SdcaMaximumEntropyMulti                     0.3967         0.3333       0.9         18                     |
		|19   SdcaLogisticRegressionOva                   0.8250         0.8167       3.6         19                     |
		|20   FastForestOva                               0.1783         0.2333       1.2         20                     |
		|21   LbfgsMaximumEntropyMulti                    0.0783         0.1333       0.1         21                     |
		|22   FastTreeOva                                 0.9000         0.9000       1.3         22                     |
		|23   LightGbmMulti                               0.0783         0.1333       0.1         23                     |
		|24   SdcaMaximumEntropyMulti                     0.8250         0.8167       0.9         24                     |
		|25   LbfgsLogisticRegressionOva                  0.8250         0.8167       0.2         25                     |
		|26   FastForestOva                               0.1783         0.2333       1.5         26                     |
		|27   SdcaLogisticRegressionOva                   0.8250         0.8167       3.6         27                     |
		|28   FastTreeOva                                 0.9000         0.9000       1.8         28                     |
		|29   LbfgsMaximumEntropyMulti                    0.8250         0.8167       0.1         29                     |
		|30   LbfgsLogisticRegressionOva                  0.8250         0.8167       0.2         30                     |
		|31   SdcaMaximumEntropyMulti                     0.8250         0.8167       0.9         31                     |
		|32   LightGbmMulti                               0.0783         0.1333       0.1         32                     |
		|34   LightGbmMulti                               0.0783         0.1333       0.1         34                     |
		|35   SdcaLogisticRegressionOva                   0.8250         0.8167       3.7         35                     |
		|36   FastTreeOva                                 0.3967         0.3333       1.7         36                     |
		|37   SdcaMaximumEntropyMulti                     0.8250         0.8167       0.9         37                     |
		|38   LightGbmMulti                               0.0783         0.1333       0.1         38                     |
		|39   LbfgsMaximumEntropyMulti                    0.8250         0.8167       0.1         39                     |
		|40   LbfgsLogisticRegressionOva                  0.2283         0.2833       0.2         40                     |
		|41   FastForestOva                               0.1783         0.2333       1.9         41                     |
		|42   FastForestOva                               0.1783         0.2333       1.8         42                     |
		|43   SdcaLogisticRegressionOva                   0.3967         0.3333       3.7         43                     |
		|44   FastTreeOva                                 0.3967         0.3333       2.0         44                     |
		|45   LbfgsLogisticRegressionOva                  0.8250         0.8167       0.2         45                     |
		|46   LbfgsMaximumEntropyMulti                    0.8500         0.8500       0.1         46                     |
		|47   SdcaMaximumEntropyMulti                     0.8250         0.8167       1.0         47                     |
		|48   LightGbmMulti                               0.0783         0.1333       0.1         48                     |
		|49   FastForestOva                               0.1783         0.2333       2.1         49                     |

		===============================================Experiment Results=================================================
		------------------------------------------------------------------------------------------------------------------
		|                                                     Summary                                                    |
		------------------------------------------------------------------------------------------------------------------
		|ML Task: Classification                                                                                         |
		|Dataset: S:\CATS\files\data_analysis\output\AggregatedFile\small_2.csv                                          |
		|Label : c11                                                                                                     |
		|Total experiment time : 56.28 Secs                                                                              |
		|Total number of models explored: 49                                                                             |
		------------------------------------------------------------------------------------------------------------------

		|                                              Top 5 models explored                                             |
		------------------------------------------------------------------------------------------------------------------
		|     Trainer                              MicroAccuracy  MacroAccuracy  Duration #Iteration                     |
		|28   FastTreeOva                                 0.9000         0.9000       1.8         28                     |
		|22   FastTreeOva                                 0.9000         0.9000       1.3         22                     |
		|9    FastTreeOva                                 0.8550         0.8167       0.9          9                     |
		|45   LbfgsMaximumEntropyMulti                    0.8500         0.8500       0.1         45                     |
		|46   SdcaMaximumEntropyMulti                     0.8250         0.8167       1.0         46                     |
		------------------------------------------------------------------------------------------------------------------

		Generate code behind files


		Copying generated code to project...
		Copying MLModel1.consumption.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
		Copying MLModel1.training.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
		COMPLETED


		Updating nuget dependencies...
		Starting update NuGet dependencies async.
		Installing nuget package, package ID: Microsoft.ML, package Version: 1.7.1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I extended the time to train&lt;/p&gt;
&lt;p&gt;Crash:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   at System.Version.VersionResult.SetFailure(ParseFailureKind failure, String argument)
   at System.Version.TryParseVersion(String version, VersionResult&amp;amp; result)
   at System.Version.Parse(String input)
   at System.Version..ctor(String version)
   at Microsoft.ML.ModelBuilder.Utils.Utilities.InstalledVersionNeedsUpdate(String installedString, String requestedString)
   at Microsoft.ML.ModelBuilder.Utils.Utilities.&amp;lt;InstallNugetPackageAsync&amp;gt;d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.ML.ModelBuilder.ViewModels.TrainViewModel.&amp;lt;UpdateNugetDependenciesAsync&amp;gt;d__105.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.ML.ModelBuilder.ViewModels.TrainViewModel.&amp;lt;GenerateCodeBehindFilesAsync&amp;gt;d__104.MoveNext()
   
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Log:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;	Generate code behind files


	Copying generated code to project...
	Copying MLModel1.consumption.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
	Copying MLModel1.training.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
	COMPLETED


	Updating nuget dependencies...
	Starting update NuGet dependencies async.
	Installing nuget package, package ID: Microsoft.ML, package Version: 1.7.1
	start nni training
	Experiment output folder: C:\Users\Wilhelm\AppData\Local\Temp\AutoML-NNI\Experiment-O11PPN
	|     Trainer                              MicroAccuracy  MacroAccuracy  Duration #Iteration                     |
	|0    SdcaMaximumEntropyMulti                     0.8000         0.8000       1.6          0                     |
	|1    LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.2          1                     |
	|2    FastForestOva                               0.4067         0.4500       0.9          2                     |
	|3    SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9          3                     |
	|4    SdcaLogisticRegressionOva                   0.8000         0.8000       3.4          4                     |
	|5    FastTreeOva                                 0.3400         0.3500       0.8          5                     |
	|6    LbfgsLogisticRegressionOva                  0.8000         0.8000       0.1          6                     |
	|7    LightGbmMulti                               0.3067         0.3500       0.2          7                     |
	|8    FastForestOva                               0.4067         0.4500       0.9          8                     |
	|9    SdcaMaximumEntropyMulti                     0.3400         0.3500       0.9          9                     |
	|10   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         10                     |
	|11   LightGbmMulti                               0.3067         0.3500       0.1         11                     |
	|12   FastTreeOva                                 0.3400         0.3500       1.0         12                     |
	|13   SdcaLogisticRegressionOva                   0.8000         0.8000       3.4         13                     |
	|14   FastForestOva                               0.4067         0.4500       1.0         14                     |
	|15   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.1         15                     |
	|16   FastTreeOva                                 0.3400         0.3500       1.1         16                     |
	|17   LightGbmMulti                               0.3067         0.3500       0.1         17                     |
	|18   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         18                     |
	|19   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         19                     |
	|20   FastForestOva                               0.4067         0.4500       1.2         20                     |
	|21   SdcaLogisticRegressionOva                   0.3400         0.3500       3.5         21                     |
	|22   FastTreeOva                                 0.3400         0.3500       1.2         22                     |
	|23   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2         23                     |
	|24   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         24                     |
	|25   LightGbmMulti                               0.3067         0.3500       0.1         25                     |
	|26   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         26                     |
	|27   FastForestOva                               0.4067         0.4500       1.4         27                     |
	|28   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         28                     |
	|29   SdcaLogisticRegressionOva                   0.8000         0.8000       3.5         29                     |
	|30   SdcaMaximumEntropyMulti                     0.3400         0.3500       1.0         30                     |
	|31   LbfgsLogisticRegressionOva                  0.3067         0.3500       0.2         31                     |
	|32   FastTreeOva                                 0.3400         0.3500       1.5         32                     |
	|33   LightGbmMulti                               0.3067         0.3500       0.1         33                     |
	|34   SdcaLogisticRegressionOva                   0.3400         0.3500       3.5         34                     |
	|35   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         35                     |
	|36   FastForestOva                               0.4067         0.4500       1.7         36                     |
	|37   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2         37                     |
	|38   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         38                     |
	|39   LightGbmMulti                               0.3067         0.3500       0.1         39                     |
	|40   FastTreeOva                                 0.3400         0.3500       1.7         40                     |
	|41   FastForestOva                               0.4067         0.4500       1.9         41                     |
	|42   LbfgsMaximumEntropyMulti                    0.3067         0.3500       0.1         42                     |
	|43   SdcaLogisticRegressionOva                   0.3400         0.3500       3.6         43                     |
	|44   LbfgsLogisticRegressionOva                  0.3067         0.3500       0.2         44                     |
	|45   SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0         45                     |
	|46   FastTreeOva                                 0.3400         0.3500       1.9         46                     |
	|47   LightGbmMulti                               0.3067         0.3500       0.1         47                     |
	|48   FastForestOva                               0.4067         0.4500       2.0         48                     |
	|49   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         49                     |
	|50   SdcaMaximumEntropyMulti                     0.3400         0.3500       1.0         50                     |
	|51   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2         51                     |
	|52   SdcaLogisticRegressionOva                   0.8000         0.8000       3.7         52                     |
	|53   FastTreeOva                                 0.3400         0.3500       2.1         53                     |
	|54   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         54                     |
	|55   LightGbmMulti                               0.3067         0.3500       0.1         55                     |
	|57   SdcaLogisticRegressionOva                   0.8000         0.8000       3.7         57                     |
	|58   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         58                     |
	|59   SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0         59                     |
	|60   LbfgsLogisticRegressionOva                  0.3067         0.3500       0.2         60                     |
	|61   FastTreeOva                                 0.3400         0.3500       2.4         61                     |
	|62   SdcaLogisticRegressionOva                   0.8000         0.8000       3.6         62                     |
	|63   LightGbmMulti                               0.3067         0.3500       0.1         63                     |
	|64   SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0         64                     |
	|66   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         66                     |
	|67   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2         67                     |
	|68   FastTreeOva                                 0.3400         0.3500       2.5         68                     |
	|69   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         69                     |
	|70   SdcaLogisticRegressionOva                   0.8000         0.8000       3.7         70                     |
	|71   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         71                     |
	|72   FastForestOva                               0.4067         0.4500       2.6         72                     |
	|73   SdcaMaximumEntropyMulti                     0.3400         0.3500       1.0         73                     |
	|74   LightGbmMulti                               0.3067         0.3500       0.1         74                     |
	|75   FastTreeOva                                 0.3400         0.3500       2.6         75                     |
	|76   LbfgsLogisticRegressionOva                  0.3067         0.3500       0.2         76                     |
	|77   FastForestOva                               0.4067         0.4500       2.7         77                     |
	|78   SdcaLogisticRegressionOva                   0.3400         0.3500       3.6         78                     |
	|79   LightGbmMulti                               0.3067         0.3500       0.1         79                     |
	|80   SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0         80                     |
	|81   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         81                     |
	|82   FastForestOva                               0.4067         0.4500       2.8         82                     |
	|83   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2         83                     |
	|84   SdcaLogisticRegressionOva                   0.8000         0.8000       3.6         84                     |
	|85   FastTreeOva                                 0.3400         0.3500       2.9         85                     |
	|86   LightGbmMulti                               0.3067         0.3500       0.1         86                     |
	|87   FastForestOva                               0.4067         0.4500       3.0         87                     |
	|88   LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3         88                     |
	|89   SdcaMaximumEntropyMulti                     0.8000         0.8000       0.9         89                     |
	|90   LbfgsMaximumEntropyMulti                    0.3067         0.3500       0.1         90                     |
	|91   FastForestOva                               0.4067         0.4500       3.1         91                     |
	|92   FastTreeOva                                 0.3400         0.3500       3.1         92                     |
	|93   SdcaLogisticRegressionOva                   0.3400         0.3500       3.7         93                     |
	|94   LbfgsLogisticRegressionOva                  0.3067         0.3500       0.2         94                     |
	|95   LightGbmMulti                               0.3067         0.3500       0.1         95                     |
	|96   LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1         96                     |
	|97   SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0         97                     |
	|98   FastForestOva                               0.4067         0.4500       3.5         98                     |
	|99   SdcaLogisticRegressionOva                   0.8000         0.8000       3.7         99                     |
	|100  FastTreeOva                                 0.3400         0.3500       3.3        100                     |
	|101  LightGbmMulti                               0.3067         0.3500       0.1        101                     |
	|102  SdcaLogisticRegressionOva                   0.8000         0.8000       3.7        102                     |
	|103  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2        103                     |
	|104  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        104                     |
	|105  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        105                     |
	|106  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        106                     |
	|107  FastForestOva                               0.4067         0.4500       3.5        107                     |
	|108  FastTreeOva                                 0.3400         0.3500       3.5        108                     |
	|109  SdcaLogisticRegressionOva                   0.8000         0.8000       3.8        109                     |
	|110  LightGbmMulti                               0.3067         0.3500       0.1        110                     |
	|111  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        111                     |
	|112  FastForestOva                               0.4067         0.4500       3.6        112                     |
	|113  FastTreeOva                                 0.3400         0.3500       3.6        113                     |
	|114  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.2        114                     |
	|115  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        115                     |
	|116  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        116                     |
	|117  LightGbmMulti                               0.3067         0.3500       0.1        117                     |
	|118  SdcaLogisticRegressionOva                   0.3400         0.3500       3.8        118                     |
	|119  FastForestOva                               0.4067         0.4500       3.7        119                     |
	|120  FastTreeOva                                 0.3400         0.3500       4.2        120                     |
	|121  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        121                     |
	|122  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        122                     |
	|123  LightGbmMulti                               0.3067         0.3500       0.1        123                     |
	|124  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        124                     |
	|125  SdcaLogisticRegressionOva                   0.8000         0.8000       3.8        125                     |
	|126  FastForestOva                               0.4067         0.4500       3.8        126                     |
	|127  LightGbmMulti                               0.3067         0.3500       0.1        127                     |
	|128  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        128                     |
	|129  FastTreeOva                                 0.3400         0.3500       4.0        129                     |
	|130  SdcaLogisticRegressionOva                   0.8000         0.8000       3.7        130                     |
	|131  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        131                     |
	|132  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        132                     |
	|133  LightGbmMulti                               0.3067         0.3500       0.2        133                     |
	|134  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        134                     |
	|135  FastForestOva                               0.4067         0.4500       4.6        135                     |
	|136  SdcaLogisticRegressionOva                   0.8000         0.8000       3.8        136                     |
	|137  FastTreeOva                                 0.3400         0.3500       4.5        137                     |
	|138  LightGbmMulti                               0.3067         0.3500       0.1        138                     |
	|139  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        139                     |
	|140  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        140                     |
	|141  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        141                     |
	|142  FastForestOva                               0.4067         0.4500       4.5        142                     |
	|143  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        143                     |
	|144  SdcaLogisticRegressionOva                   0.8000         0.8000       3.9        144                     |
	|145  FastTreeOva                                 0.3400         0.3500       4.2        145                     |
	|146  LightGbmMulti                               0.3067         0.3500       0.1        146                     |
	|147  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        147                     |
	|148  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        148                     |
	|149  FastForestOva                               0.4067         0.4500       4.3        149                     |
	|150  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        150                     |
	|151  LightGbmMulti                               0.3067         0.3500       0.1        151                     |
	|152  SdcaLogisticRegressionOva                   0.8000         0.8000       3.8        152                     |
	|153  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.1        153                     |
	|154  FastTreeOva                                 0.3400         0.3500       4.6        154                     |
	|155  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        155                     |
	|156  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        156                     |
	|157  SdcaLogisticRegressionOva                   0.8000         0.8000       3.8        157                     |
	|158  FastForestOva                               0.4067         0.4500       5.1        158                     |
	|159  LightGbmMulti                               0.3067         0.3500       0.1        159                     |
	|160  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        160                     |
	|161  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        161                     |
	|162  FastTreeOva                                 0.3400         0.3500       5.0        162                     |
	|163  SdcaLogisticRegressionOva                   0.8000         0.8000       3.9        163                     |
	|164  LightGbmMulti                               0.3067         0.3500       0.2        164                     |
	|166  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        166                     |
	|167  LightGbmMulti                               0.3067         0.3500       0.1        167                     |
	|168  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.2        168                     |
	|169  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        169                     |
	|170  SdcaLogisticRegressionOva                   0.8000         0.8000       3.9        170                     |
	|171  FastForestOva                               0.4067         0.4500       4.7        171                     |
	|172  FastTreeOva                                 0.3400         0.3500       5.1        172                     |
	|173  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        173                     |
	|174  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        174                     |
	|175  LightGbmMulti                               0.3067         0.3500       0.2        175                     |
	|177  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        177                     |
	|178  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        178                     |
	|179  SdcaLogisticRegressionOva                   0.8000         0.8000       3.9        179                     |
	|180  FastTreeOva                                 0.3400         0.3500       4.8        180                     |
	|181  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        181                     |
	|182  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.1        182                     |
	|183  FastForestOva                               0.4067         0.4500       5.0        183                     |
	|184  LightGbmMulti                               0.3067         0.3500       0.2        184                     |
	|185  SdcaLogisticRegressionOva                   0.8000         0.8000       3.9        185                     |
	|186  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.1        186                     |
	|187  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        187                     |
	|188  FastTreeOva                                 0.3400         0.3500       5.0        188                     |
	|189  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        189                     |
	|190  SdcaLogisticRegressionOva                   0.8000         0.8000       4.0        190                     |
	|191  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.2        191                     |

	===============================================Experiment Results=================================================
	------------------------------------------------------------------------------------------------------------------
	|                                                     Summary                                                    |
	------------------------------------------------------------------------------------------------------------------
	|ML Task: Classification                                                                                         |
	|Dataset: S:\CATS\files\data_analysis\output\AggregatedFile\small_2.csv                                          |
	|Label : c11                                                                                                     |
	|Total experiment time : 295.89 Secs                                                                             |
	|Total number of models explored: 188                                                                            |
	------------------------------------------------------------------------------------------------------------------

	|                                              Top 5 models explored                                             |
	------------------------------------------------------------------------------------------------------------------
	|     Trainer                              MicroAccuracy  MacroAccuracy  Duration #Iteration                     |
	|187  LbfgsMaximumEntropyMulti                    0.8000         0.8000       0.2        187                     |
	|186  SdcaLogisticRegressionOva                   0.8000         0.8000       4.0        186                     |
	|185  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.0        185                     |
	|183  LbfgsLogisticRegressionOva                  0.8000         0.8000       0.3        183                     |
	|182  SdcaMaximumEntropyMulti                     0.8000         0.8000       1.1        182                     |
	------------------------------------------------------------------------------------------------------------------

	Generate code behind files


	Copying generated code to project...
	Copying MLModel1.consumption.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
	Copying MLModel1.training.cs to folder: G:\Users\Wilhelm\dev\MachineLearning\ML1
	COMPLETED


	Updating nuget dependencies...
	Starting update NuGet dependencies async.
	Installing nuget package, package ID: Microsoft.ML, package Version: 1.7.1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I would have excepted it to have found a good results&lt;/p&gt;
&lt;p&gt;So I tried with 1 algo via c# and I got this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;	Processing LightGbm
	BestRun TrainerName:        LightGbmMulti
		- MicroAccuracy:        1
		- MacroAccuracy:        1
		- LogLoss:              0.08765842991120704
		- CLogLossReduction:    Infinity

	Class log loss:
		- class 1: 0
		- class 2: 0.09051613072327441
		- class 3: 0

	ConfusionMatrix.PerClassPrecision:
	class 1: 0
	class 2: 1
	class 3: 0

	ConfusionMatrix.PerClassPrecision:
		- class 1: 0, 0, 0,
		- class 2: 0, 3, 0,
		- class 3: 0, 0, 0,
	Saving model!!!
	Done saving...
	
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Shouldn't the Confusion Matrix look like this?&lt;/strong&gt;
- class 1: 11, 0, 0,
- class 2: 0, 11, 0,
- class 3: 0, 0, 2,&lt;/p&gt;
&lt;p&gt;I'm running the other Trainer and will post once done...right now it seems stuck on 	AveragedPerceptronOva, its been 20 min already....&lt;/p&gt;
&lt;p&gt;Update after some time (I kill the program when too long so it can move to the next trainer):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;	  Processing LightGbm
	  BestRun TrainerName:        LightGbmMulti
		  - MicroAccuracy:        1
		  - MacroAccuracy:        1
		  - LogLoss:              0.08765842991120704
		  - CLogLossReduction:    Infinity
	  
	  Class log loss:
		  - class 1: 0
		  - class 2: 0.09051613072327441
		  - class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
	  class 1: 0
	  class 2: 1
	  class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
		  - class 1: 0, 0, 0,
		  - class 2: 0, 3, 0,
		  - class 3: 0, 0, 0,
	  Saving model!!!
	  Done saving...
	  
	  Duration: 00:00:00.7684543
	  ---------------------
	  
	 
	  Processing AveragedPerceptronOva
	  ^CTerminate batch job (Y/N)? n
	  
	  --------------------------------
	  Processing FastForestOva
	  BestRun TrainerName:        FastForestOva
		  - MicroAccuracy:        1
		  - MacroAccuracy:        1
		  - LogLoss:              0.13785668008671875
		  - CLogLossReduction:    Infinity
	  
	  Class log loss:
		  - class 1: 0
		  - class 2: 0.1283592552410416
		  - class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
	  class 1: 0
	  class 2: 1
	  class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
		  - class 1: 0, 0, 0,
		  - class 2: 0, 3, 0,
		  - class 3: 0, 0, 0,
	  Saving model!!!
	  Done saving...
	  
	  Duration: 00:00:01.3639996
	  ---------------------
	  
	 
	  Processing FastTreeOva
	  BestRun TrainerName:        FastTreeOva
		  - MicroAccuracy:        1
		  - MacroAccuracy:        1
		  - LogLoss:              0.38632734814558706
		  - CLogLossReduction:    Infinity
	  
	  Class log loss:
		  - class 1: 0
		  - class 2: 0.3665745755147897
		  - class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
	  class 1: 0
	  class 2: 1
	  class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
		  - class 1: 0, 0, 0,
		  - class 2: 0, 3, 0,
		  - class 3: 0, 0, 0,
	  Saving model!!!
	  Done saving...
	  
	  Duration: 00:00:02.0520908
	  ---------------------
	  
	 
	  Processing LinearSupportVectorMachinesOva
	  ^CTerminate batch job (Y/N)? n
	  
	  -----------------------------------------
	  Processing LbfgsMaximumEntropy
	  ^CTerminate batch job (Y/N)? n
	  
	  -----------------------------------------------------------
	  Processing LbfgsLogisticRegressionOva
	  ^CTerminate batch job (Y/N)? n
	  
	 -------------------------------------------------------
	  Processing SdcaMaximumEntropy
	  BestRun TrainerName:        SdcaMaximumEntropyMulti
		  - MicroAccuracy:        1
		  - MacroAccuracy:        1
		  - LogLoss:              0.0034730878249029256
		  - CLogLossReduction:    Infinity
	  
	  Class log loss:
		  - class 1: 0
		  - class 2: 0.0021820014848649345
		  - class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
	  class 1: 0
	  class 2: 1
	  class 3: 0
	  
	  ConfusionMatrix.PerClassPrecision:
		  - class 1: 0, 0, 0,
		  - class 2: 0, 3, 0,
		  - class 3: 0, 0, 0,
	  Saving model!!!
	  Done saving...
	  
	  Duration: 00:00:02.0249306
	  ---------------------
	  
	 
	  Processing SgdCalibratedOva
	  ^CTerminate batch job (Y/N)? n
	  
	  -------------------------------
	  Processing SymbolicSgdLogisticRegressionOva
	  ^CTerminate batch job (Y/N)? n
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;=====================================
More or less related issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;https://github.com/dotnet/machinelearning/issues/6309&lt;/li&gt;
&lt;li&gt;https://github.com/dotnet/machinelearning/issues/6297&lt;/li&gt;
&lt;li&gt;https://github.com/dotnet/machinelearning/issues/6309&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Sun, 28 Aug 2022 00:15:47 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6308</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6308</link>
      <title>Issue: Image Prediction : OOM when allocating tensor with shape - @PerfectEngineer</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS version/distro&lt;/strong&gt;: Win 10&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.NET Version (eg., dotnet --info)&lt;/strong&gt;:  6.0&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ML.NET Version&lt;/strong&gt;: ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SciSharp.TensorFlow.Redis: 2.3.1&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Issue OOM when allocating tensor&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Code&lt;/h3&gt;
&lt;p&gt;BitmapImage imageAsBitmap = new BitmapImage(new Uri(&amp;quot;D:/ImageToGetPrediction.jpeg&amp;quot;));
var encoder = new JpegBitmapEncoder();
encoder.Frames.Add(BitmapFrame.Create(imageAsBitmap));
var input = new Input();&lt;/p&gt;
&lt;p&gt;using (MemoryStream ms = new MemoryStream())
{
encoder.Save(ms);
input.Image = ms.ToArray();
}
var prediction = _predictor.Predict(input);&lt;/p&gt;
&lt;h3&gt;Exception&lt;/h3&gt;
&lt;p&gt;OOM when allocating tensor with shape[1,75,75,256] and type float on /job:localhost/replica:0/task:0/device:CPU:0 by allocator cpu
[[{{node resnet_v2_101/block1/unit_1/bottleneck_v2/conv3/BiasAdd}}]]
Hint: If you want to see a list of allocated tensors when OOM happens, add report_tensor_allocations_upon_oom to RunOptions for current allocation info.
INNERMESSAGE
STACKTRACE:    at Microsoft.ML.TensorFlow.TensorFlowUtils.Runner.Run()
at Microsoft.ML.Vision.ImageClassificationModelParameters.Classifier.Score(VBuffer&lt;code&gt;1&amp;amp; image, Span&lt;/code&gt;1 classProbabilities)
at Microsoft.ML.Vision.ImageClassificationModelParameters.&amp;lt;&amp;gt;c__DisplayClass22_0&lt;code&gt;2.&amp;lt;Microsoft.ML.Data.IValueMapper.GetMapper&amp;gt;b__0(VBuffer&lt;/code&gt;1&amp;amp; src, VBuffer&lt;code&gt;1&amp;amp; dst) at Microsoft.ML.Data.SchemaBindablePredictorWrapperBase.&amp;lt;&amp;gt;c__DisplayClass19_0&lt;/code&gt;2.&lt;GetValueGetter&gt;b__0(TDst&amp;amp; dst)
at Microsoft.ML.Data.PredictedLabelScorerBase.EnsureCachedPosition[TScore](Int64&amp;amp; cachedPosition, TScore&amp;amp; score, DataViewRow boundRow, ValueGetter&lt;code&gt;1 scoreGetter) at Microsoft.ML.Data.MulticlassClassificationScorer.&amp;lt;&amp;gt;c__DisplayClass16_0.&amp;lt;GetPredictedLabelGetter&amp;gt;b__1(VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.&amp;lt;&amp;gt;c__DisplayClass8_0&lt;/code&gt;1.&lt;CreateDirectVBufferSetter&gt;b__0(TRow row)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.FillValues(TRow row) at Microsoft.ML.Data.TypedCursorable&lt;/code&gt;1.RowImplementation.FillValues(TRow row)
at Microsoft.ML.PredictionEngineBase&lt;code&gt;2.FillValues(TDst prediction) at Microsoft.ML.PredictionEngine&lt;/code&gt;2.Predict(TSrc example, TDst&amp;amp; prediction)
at Microsoft.ML.PredictionEngineBase`2.Predict(TSrc example)&lt;/p&gt;
</description>
      <pubDate>Sat, 27 Aug 2022 08:26:38 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6307</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6307</link>
      <title>Issue: Exception during Predict  - @PerfectEngineer</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET Version:  ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version:  .NET 6.0&lt;/li&gt;
&lt;li&gt;SciSharp.TensorFlow.Redis: 2.3.1
&lt;strong&gt;Expected behavior&lt;/strong&gt;
Should able to get prediction&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;CODE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;BitmapImage imageAsBitmap = new BitmapImage(new Uri(&amp;quot;D:/ImageToGetPrediction.jpeg&amp;quot;));
var encoder = new JpegBitmapEncoder();
encoder.Frames.Add(BitmapFrame.Create(imageAsBitmap));
var input = new Input();&lt;/p&gt;
&lt;p&gt;using (MemoryStream ms = new MemoryStream())
{
encoder.Save(ms);
input.Image = ms.ToArray();
}
var prediction = _predictor.Predict(input);&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;STACKTRACE&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Error: External component has thrown an exception&lt;/p&gt;
&lt;p&gt;STACKTRACE:    at Tensorflow.c_api.TF_SessionRun(IntPtr session, TF_Buffer* run_options, TF_Output[] inputs, IntPtr[] input_values, Int32 ninputs, TF_Output[] outputs, IntPtr[] output_values, Int32 noutputs, IntPtr[] target_opers, Int32 ntargets, IntPtr run_metadata, SafeStatusHandle status)
at Microsoft.ML.TensorFlow.TensorFlowUtils.Runner.Run()
at Microsoft.ML.Vision.ImageClassificationModelParameters.Classifier.Score(VBuffer&lt;code&gt;1&amp;amp; image, Span&lt;/code&gt;1 classProbabilities)
at Microsoft.ML.Vision.ImageClassificationModelParameters.&amp;lt;&amp;gt;c__DisplayClass22_0&lt;code&gt;2.&amp;lt;Microsoft.ML.Data.IValueMapper.GetMapper&amp;gt;b__0(VBuffer&lt;/code&gt;1&amp;amp; src, VBuffer&lt;code&gt;1&amp;amp; dst) at Microsoft.ML.Data.SchemaBindablePredictorWrapperBase.&amp;lt;&amp;gt;c__DisplayClass19_0&lt;/code&gt;2.&lt;GetValueGetter&gt;b__0(TDst&amp;amp; dst)
at Microsoft.ML.Data.PredictedLabelScorerBase.EnsureCachedPosition[TScore](Int64&amp;amp; cachedPosition, TScore&amp;amp; score, DataViewRow boundRow, ValueGetter&lt;code&gt;1 scoreGetter) at Microsoft.ML.Data.MulticlassClassificationScorer.&amp;lt;&amp;gt;c__DisplayClass16_0.&amp;lt;GetPredictedLabelGetter&amp;gt;b__1(VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.&amp;lt;&amp;gt;c__DisplayClass8_0&lt;/code&gt;1.&lt;CreateDirectVBufferSetter&gt;b__0(TRow row)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.FillValues(TRow row) at Microsoft.ML.Data.TypedCursorable&lt;/code&gt;1.RowImplementation.FillValues(TRow row)
at Microsoft.ML.PredictionEngineBase&lt;code&gt;2.FillValues(TDst prediction) at Microsoft.ML.PredictionEngine&lt;/code&gt;2.Predict(TSrc example, TDst&amp;amp; prediction)
at Microsoft.ML.PredictionEngineBase`2.Predict(TSrc example)&lt;/p&gt;
</description>
      <pubDate>Sat, 27 Aug 2022 07:12:42 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6306</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6306</link>
      <title>Issue: 0x80004005 during CreatePredictionEngine - @PerfectEngineer</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;**OS  Win 10&lt;/li&gt;
&lt;li&gt;**.NET Version    Dot Net 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Issue&lt;/h3&gt;
&lt;p&gt;Exception and System Hang&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;What did you do?&lt;/strong&gt;
I am getting Prediction from the model generated for Image classification&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What happened?&lt;/strong&gt;
System Hangs&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What did you expect?&lt;/strong&gt;
Should predict the result&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Source code / logs&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Code&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;var context = new MLContext(seed: 0);
var model = context.Model.Load(_modelPath, out DataViewSchema schema);
PredictionEngine&amp;lt;Input, Output&amp;gt; _predicto = context.Model.CreatePredictionEngine&amp;lt;Input, Output&amp;gt;(model);&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Exception Log&lt;/strong&gt;
Constructor  Details: Error during class instantiationINNERMESSAGE System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
---&amp;gt; System.InvalidOperationException: Error during class instantiation
---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
---&amp;gt; System.InvalidOperationException: Error during class instantiation
---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.
---&amp;gt; System.FormatException: Tensorflow exception triggered while loading model.
---&amp;gt; System.Runtime.InteropServices.SEHException (0x80004005): External component has thrown an exception.
at Tensorflow.c_api.TF_GraphImportGraphDef(IntPtr graph, SafeBufferHandle graph_def, SafeImportGraphDefOptionsHandle options, SafeStatusHandle status)
at Tensorflow.Graph.Import(Byte[] bytes, String prefix)
at Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSession(IExceptionContext ectx, Byte[] modelBytes, String modelFile)
--- End of inner exception stack trace ---
at Microsoft.ML.TensorFlow.TensorFlowUtils.LoadTFSession(IExceptionContext ectx, Byte[] modelBytes, String modelFile)
at Microsoft.ML.Vision.ImageClassificationModelParameters..ctor(IHostEnvironment env, ModelLoadContext ctx)
at Microsoft.ML.Vision.ImageClassificationModelParameters.Create(IHostEnvironment env, ModelLoadContext ctx)
--- End of inner exception stack trace ---
at System.RuntimeMethodHandle.InvokeMethod(Object target, Span&lt;code&gt;1&amp;amp; arguments, Signature sig, Boolean constructor, Boolean wrapExceptions) at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture) at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs) --- End of inner exception stack trace --- at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs) at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes](IHostEnvironment env, Type signatureType, TRes&amp;amp; result, String name, String options, Object[] extra) at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, String options, Object[] extra) at Microsoft.ML.ModelLoadContext.TryLoadModelCore[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, Object[] extra) at Microsoft.ML.ModelLoadContext.TryLoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, Entry ent, String dir, Object[] extra) at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, Entry ent, String dir, Object[] extra) at Microsoft.ML.ModelLoadContext.LoadModelOrNull[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, String dir, Object[] extra) at Microsoft.ML.ModelLoadContext.LoadModelOrNull[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, Object[] extra) at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, Object[] extra) at Microsoft.ML.Data.MulticlassPredictionTransformer.Create(IHostEnvironment env, ModelLoadContext ctx) --- End of inner exception stack trace --- at System.RuntimeMethodHandle.InvokeMethod(Object target, Span&lt;/code&gt;1&amp;amp; arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs)
--- End of inner exception stack trace ---
at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs)
at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes](IHostEnvironment env, Type signatureType, TRes&amp;amp; result, String name, String options, Object[] extra)
at Microsoft.ML.Runtime.ComponentCatalog.TryCreateInstance[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, String options, Object[] extra)
at Microsoft.ML.ModelLoadContext.TryLoadModelCore[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, Object[] extra)
at Microsoft.ML.ModelLoadContext.TryLoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, Entry ent, String dir, Object[] extra)
at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, Entry ent, String dir, Object[] extra)
at Microsoft.ML.ModelLoadContext.LoadModelOrNull[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, RepositoryReader rep, String dir, Object[] extra)
at Microsoft.ML.ModelLoadContext.LoadModelOrNull[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, Object[] extra)
at Microsoft.ML.ModelLoadContext.LoadModel[TRes,TSig](IHostEnvironment env, TRes&amp;amp; result, String name, Object[] extra)
at Microsoft.ML.Data.TransformerChain&lt;code&gt;1..ctor(IHostEnvironment env, ModelLoadContext ctx) at Microsoft.ML.Data.TransformerChain.Create(IHostEnvironment env, ModelLoadContext ctx) --- End of inner exception stack trace --- at System.RuntimeMethodHandle.InvokeMethod(Object target, Span&lt;/code&gt;1&amp;amp; arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
at Microsoft.ML.Runtime.ComponentCatalog.LoadableClassInfo.CreateInstanceCore(Object[] ctorArgs)&lt;/p&gt;
</description>
      <pubDate>Sat, 27 Aug 2022 06:57:38 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6304</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6304</link>
      <title>Issue: [AutoML API] API Suggestions - @luisquintanilla</title>
      <description>&lt;ul&gt;
&lt;li&gt;When setting evaluation metrics using methods like &lt;code&gt;SetBinaryClassificationMetric&lt;/code&gt;, the default value for &lt;code&gt;labelColumn&lt;/code&gt; parameter is &lt;em&gt;label&lt;/em&gt;. This is inconsistent with like the &lt;code&gt;predictColumn&lt;/code&gt; parameter and the rest of ML.NET. Suggest change to &lt;code&gt;Label&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;When setting evaluation metrics using methods like &lt;code&gt;SetBinaryClassificationMetric&lt;/code&gt;, the parameter names are &lt;code&gt;labelColumn&lt;/code&gt; and &lt;code&gt;predictColumn&lt;/code&gt;. In ML.NET, typically parameters referring to column names include name. Suggest change of parameter names to &lt;code&gt;labelColumnName&lt;/code&gt; and &lt;code&gt;predictColumnName&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Fri, 26 Aug 2022 20:24:28 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6299</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6299</link>
      <title>Issue: ChoiceAttribution doesn't work with int type. - @LittleLittleCloud</title>
      <description>&lt;p&gt;reproduction&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;class Param
{
   [Choice(1,2,3)]
   public int Index {get; set;}
}

// throw exception
var ss = new SearchSpace&amp;lt;Param&amp;gt;();
var tuner = new RandomTuner(ss);
tuner.Propose()
&lt;/code&gt;&lt;/pre&gt;
</description>
      <pubDate>Mon, 22 Aug 2022 21:48:09 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6298</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6298</link>
      <title>Issue: NotebookMonitor doesn't display AutoML training progress. - @luisquintanilla</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 11&lt;/li&gt;
&lt;li&gt;ML.NET Version: 0.20.0-preview.22356.1&lt;/li&gt;
&lt;li&gt;.NET Version: .NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;NotebookMonitor displays gray box in output window instead of AutoML training progress&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Run the following notebook https://github.com/dotnet/csharp-notebooks/blob/main/machine-learning/03-Training%20and%20AutoML.ipynb&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;NotebookMonitor displays AutoML training progress&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/46974588/185819923-6b2a31e5-0d2c-4050-a9bc-1373a568d03d.png" alt="image" /&gt;&lt;/p&gt;
</description>
      <pubDate>Mon, 22 Aug 2022 01:04:15 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6297</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6297</link>
      <title>Issue: [Issue, ML.net C#] 330GB csv file of data cause a OutOfMemoryException (2/2) - @wil70</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Win8, latest version as of this bug entry&lt;/li&gt;
&lt;li&gt;ML.NET Version: 16.13.9&lt;/li&gt;
&lt;li&gt;.NET Version:6.0.303&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
When I start c# AutoML in c# I get a OutOfMemoryException after the memory reach the maximum of 64GB.
I have 64GB Ram, I have a 330GB csv file of data.&lt;/p&gt;
&lt;p&gt;Note: I couldn't do it with ML.net CLI due to this bug https://github.com/dotnet/machinelearning/issues/6288 so I tried to do it with c# AutoML package. I'm totally new at ML.NET, sorry in adavance for the code quality&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Generate a 330GB file with 4209 columns with random data&lt;/li&gt;
&lt;li&gt;create a c# project and paste the code below&lt;/li&gt;
&lt;li&gt;See error log at the end of this message with the OutOfMemoryException&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
I expect to be able to be able to handle 2TB files and 100K columns without any issue with ML.Net CLI and also with c# on a 64GB ram computer by streaming the data instead of loading all in memeory.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
If applicable, add screenshots, code snippets, or sample projects to help explain your problem.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Add any other context about the problem here.&lt;/p&gt;
&lt;p&gt;I have a 330gb file (64 gb ram). I tried ML.NET CLI but hit a bug see.
So I'm now trying with c#, the bug is different than the ML.NET CLI issue as it seems to try to load everything in memory&lt;/p&gt;
&lt;p&gt;IDataView trainingData = mlContext.Data.LoadFromTextFile&lt;ModelInput&gt;(
&amp;quot;c:\data.csv&amp;quot;,
separatorChar: ',', hasHeader: true, trimWhitespace: true);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        var cts = new CancellationTokenSource();
        var experimentSettings = new MulticlassExperimentSettings();
        //experimentSettings.TrainingData = trainingData;
        experimentSettings.MaxExperimentTimeInSeconds = 3600;
        experimentSettings.CancellationToken = cts.Token;
        experimentSettings.CacheBeforeTrainer = CacheBeforeTrainer.Auto;

        // Cancel experiment after the user presses any key
        //CancelExperimentAfterAnyKeyPress(cts);
        experimentSettings.CacheDirectoryName = null;

        MulticlassClassificationExperiment experiment = mlContext.Auto().CreateMulticlassClassificationExperiment(experimentSettings);
        ExperimentResult&amp;lt;MulticlassClassificationMetrics&amp;gt; experimentResult = experiment.Execute(trainingData, &amp;quot;Entry(Text)&amp;quot;);//, progressHandler: progressHandler);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.....
public class ModelInput
{
[LoadColumn(0), NoColumn]
public string _data0 { get; set; }&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        [LoadColumn(1), NoColumn]
        public float ignoreData1 { get; set; }

        [LoadColumn(2, 4205)]
        public float _data { get; set; }

        [LoadColumn(4206),NoColumn]//(4206,4208)]
        public float _ignoreData4206 { get; set; }         
	[LoadColumn(4207), NoColumn]//(4206,4208)]
        public float _ignoreData4207 { get; set; }
        [LoadColumn(4208), NoColumn]//(4206,4208)]
        public float _ignoreData4208 { get; set; }

        [LoadColumn(4209),ColumnName(&amp;quot;Entry(Text)&amp;quot;)]
        public string _label { get; set; }
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
&lt;p&gt;There is a Exception of type 'System.OutOfMemoryException' was thrown.
(new System.Collections.Generic.Mscorlib_CollectionDebugView&amp;lt;Microsoft.ML.AutoML.RunDetail&amp;lt;Microsoft.ML.Data.MulticlassClassificationMetrics&amp;gt;&amp;gt;(experimentResult.RunDetails).Items[0]).Exception.StackTrace
at Microsoft.ML.Internal.Utilities.OrderedWaiter.Wait(Int64 position, CancellationToken token)
at Microsoft.ML.Data.CacheDataView.GetPermutationOrNull(Random rand)
at Microsoft.ML.Data.CacheDataView.GetRowCursorSetWaiterCore[TWaiter](TWaiter waiter, Func&lt;code&gt;2 predicate, Int32 n, Random rand) at Microsoft.ML.Data.CacheDataView.GetRowCursorSet(IEnumerable&lt;/code&gt;1 columnsNeeded, Int32 n, Random rand)
at Microsoft.ML.Data.OneToOneTransformBase.GetRowCursorSet(IEnumerable&lt;code&gt;1 columnsNeeded, Int32 n, Random rand) at Microsoft.ML.Data.DataViewUtils.TryCreateConsolidatingCursor(DataViewRowCursor&amp;amp; curs, IDataView view, IEnumerable&lt;/code&gt;1 columnsNeeded, IHost host, Random rand)
at Microsoft.ML.Data.TransformBase.GetRowCursor(IEnumerable&lt;code&gt;1 columnsNeeded, Random rand) at Microsoft.ML.Trainers.TrainingCursorBase.FactoryBase&lt;/code&gt;1.Create(Random rand, Int32[] extraCols)
at Microsoft.ML.Trainers.OnlineLinearTrainer&lt;code&gt;2.TrainCore(IChannel ch, RoleMappedData data, TrainStateBase state) at Microsoft.ML.Trainers.OnlineLinearTrainer&lt;/code&gt;2.TrainModelCore(TrainContext context)
at Microsoft.ML.Trainers.TrainerEstimatorBase&lt;code&gt;2.TrainTransformer(IDataView trainSet, IDataView validationSet, IPredictor initPredictor) at Microsoft.ML.Trainers.OneVersusAllTrainer.TrainOne(IChannel ch, ITrainerEstimator&lt;/code&gt;2 trainer, RoleMappedData data, Int32 cls)
at Microsoft.ML.Trainers.OneVersusAllTrainer.Fit(IDataView input)
at Microsoft.ML.Data.EstimatorChain&lt;code&gt;1.Fit(IDataView input) at Microsoft.ML.Data.EstimatorChain&lt;/code&gt;1.Fit(IDataView input)
at Microsoft.ML.AutoML.RunnerUtil.TrainAndScorePipeline[TMetrics](MLContext context, SuggestedPipeline pipeline, IDataView trainData, IDataView validData, String groupId, String labelColumn, IMetricsAgent`1 metricsAgent, ITransformer preprocessorTransform, FileInfo modelFileInfo, DataViewSchema modelInputSchema, IChannel logger)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;There is a Exception of type 'System.OutOfMemoryException' was thrown.
(new System.Collections.Generic.Mscorlib_CollectionDebugView&amp;lt;Microsoft.ML.AutoML.RunDetail&amp;lt;Microsoft.ML.Data.MulticlassClassificationMetrics&amp;gt;&amp;gt;(experimentResult.RunDetails).Items[0]).Exception.InnerException.StackTrace
at Microsoft.ML.Internal.Utilities.ArrayUtils.EnsureSize[T](T[]&amp;amp; array, Int32 min, Int32 max, Boolean keepOld, Boolean&amp;amp; resized)
at Microsoft.ML.Internal.Utilities.BigArray&lt;code&gt;1.AddRange(ReadOnlySpan&lt;/code&gt;1 src)
at Microsoft.ML.Data.CacheDataView.ColumnCache.ImplVec`1.CacheCurrent()
at Microsoft.ML.Data.CacheDataView.Filler(DataViewRowCursor cursor, ColumnCache[] caches, OrderedWaiter waiter)&lt;/p&gt;
</description>
      <pubDate>Fri, 19 Aug 2022 17:28:02 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6296</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6296</link>
      <title>Issue: Support loading lightgbm model from a file - @prodanovic</title>
      <description>&lt;p&gt;&lt;strong&gt;Is your feature request related to a problem? Please describe.&lt;/strong&gt;
Our data scientists are training lightgbm models in python, and our inference runtime is in C#. We are very much interested in using ML.NET to run inference, however loading the model from a file is not yet supported in ML.NET. Is there an obstacle in adding this additional binding already available in lightgbm C++ API ?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;
Add LGBM_BoosterLoadModelFromString binding to &lt;a href="https://github.com/dotnet/machinelearning/blob/510f0112d4fbb4d3ee233b9ca95c83fae1f9da91/src/Microsoft.ML.LightGbm/WrappedLightGbmInterface.cs#L189%7D"&gt;WrappedLightGbmInterface ()&lt;/a&gt; available in https://github.com/Microsoft/LightGBM/blob/master/include/LightGBM/c_api.h&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;
An alternative is to convert our models to ONNX and not use ML.NET runtime.&lt;/p&gt;
</description>
      <pubDate>Fri, 19 Aug 2022 13:08:52 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6295</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6295</link>
      <title>Issue: Model Builder Error - @kitosd</title>
      <description>&lt;p&gt;Model Builder Version : 16.1.0.20.27905
Visual Studio Version : 16.11.18&lt;/p&gt;
&lt;p&gt;Bug description
With freshly-updated [as of today, 2022-08-19] VS2019 and model builder, I tried to use the new ML builder wizard &amp;quot;Value prediction&amp;quot;. It failed with an exception: Method not found: 'System.Collections.Generic.IEnumerable1&amp;lt;System.ValueTuple2&amp;lt;Microsoft.ML.AutoML.RunDetail`1&amp;lt;!!0&amp;gt;,Int32&amp;gt;&amp;gt; Microsoft.ML.AutoML.BestResultUtil.GetTopNRunResults&lt;/p&gt;
&lt;p&gt;Steps to Reproduce&lt;/p&gt;
&lt;p&gt;Installed latest VS 2019 and updated Model Builder to latest version
Create new project. Right click on project -&amp;gt; Add -&amp;gt; &amp;quot;Machine Learning&amp;quot;
Choose image classification, &amp;quot;Local ML&amp;quot;, Next.
As input, choose an appropriate folder, observe &amp;quot;data preview&amp;quot; looks like I expected, with images being shown under various classifications
Train, Start Training.
Expected Experience
Pretty much what I'd expect from the tutorial, and of a wizard.&lt;/p&gt;
&lt;p&gt;Actual Experience
Shortly after click &amp;quot;start training&amp;quot;, I get this:
&amp;quot;GPU Service not found. Falling back to CPU AutoML Service.&amp;quot;&lt;/p&gt;
&lt;p&gt;Moments later, this exception:
Method not found: 'System.Collections.Generic.IEnumerable1&amp;lt;System.ValueTuple2&amp;lt;Microsoft.ML.AutoML.RunDetail1&amp;lt;!!0&amp;gt;,Int32&amp;gt;&amp;gt; Microsoft.ML.AutoML.BestResultUtil.GetTopNRunResults(System.Collections.Generic.IEnumerable1&amp;lt;Microsoft.ML.AutoML.RunDetail1&amp;lt;!!0&amp;gt;&amp;gt;, Microsoft.ML.AutoML.IMetricsAgent1&amp;lt;!!0&amp;gt;, Int32, Boolean)'.
at Microsoft.ML.ModelBuilder.AutoMLService.Experiments.AutoMLExperiment3.d__21.MoveNext() at System.Runtime.CompilerServices.AsyncTaskMethodBuilder1.Start[TStateMachine](TStateMachine&amp;amp; stateMachine)
at Microsoft.ML.ModelBuilder.AutoMLService.Experiments.AutoMLExperiment3.ExecuteAsync(IDataView trainData, IDataView validateData, ColumnInformation columnInformation, Nullable1 userCancellationToken, Nullable`1 timeout)
at Microsoft.ML.ModelBuilder.AutoMLEngine.d__30.MoveNext() in /_/src/Microsoft.ML.ModelBuilder.AutoMLService/AutoMLEngineService/AutoMLEngine.cs:line 147&lt;/p&gt;
</description>
      <pubDate>Fri, 19 Aug 2022 07:41:33 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6294</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6294</link>
      <title>Issue: Convert TrialResult to DataFrame - @luisquintanilla</title>
      <description>&lt;h2&gt;Description&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://docs.microsoft.com/dotnet/api/microsoft.ml.automl.trialresult?view=ml-dotnet-preview"&gt;TrialResult&lt;/a&gt; gives you important information about each trial AutoML runs as part of an experiment. Although today we have the NotebookMonitor for real-time visualizations and feedback during training, once training is done, to get similar information, users have to write their own code to access each of these pieces of information.&lt;/p&gt;
&lt;h2&gt;Proposal&lt;/h2&gt;
&lt;p&gt;Given an AutoML experiment called &lt;code&gt;experiment&lt;/code&gt;, when training is done, users should be able to call &lt;code&gt;ToDataFrame&lt;/code&gt; to convert the results of an AutoML experiment into a &lt;code&gt;DataFrame&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;TrialResult experimentResults = await experiment.RunAsync();
DataFrame results = experimentResults.ToDataFrame();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The result should display columns with information for each of the trials in a DataFrame similar to the following:&lt;/p&gt;
&lt;p&gt;| TrialId | DurationInMilliseconds | Metric | Pipeline | Parameter |
| --- | --- | --- | --- | --- |
| 21 | 8.5 | 0.98 | ... | ... |
| 5 | 3.8 | 0.83 | ... | ... |&lt;/p&gt;
&lt;p&gt;From there, if users to sort / query the results using the built-in DataFrame methods, they can. Additionally, they can export to CSV using the &lt;a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.data.analysis.dataframe.writecsv?view=ml-dotnet-preview"&gt;WriteCsv&lt;/a&gt; method.&lt;/p&gt;
</description>
      <pubDate>Thu, 18 Aug 2022 23:10:18 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6293</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6293</link>
      <title>Issue: Add maximum memory usage limit to AutoML experiment - @LittleLittleCloud</title>
      <description>&lt;p&gt;We have a lot of users complaining about OOM error when using AutoML. This is because ML.Net AutoML tends to search larger model as time passes, so it's kind of necessary to put some hard limit on memory usages for AutoML training.&lt;/p&gt;
</description>
      <pubDate>Thu, 18 Aug 2022 22:06:39 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6291</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6291</link>
      <title>Issue: AutoFeaturizer puts ReplacingMissingValue transformer to boolean column - @LittleLittleCloud</title>
      <description>&lt;p&gt;The root cause is &lt;code&gt;InferColumn&lt;/code&gt; API also infer a boolean column's column purpose as numeric. Which in some way makes sense as there's a direct way of mapping boolean to numeric.&lt;/p&gt;
&lt;p&gt;While in &lt;code&gt;AutoFeaturizer&lt;/code&gt; API, it always put a &lt;code&gt;ReplacingMissingValue&lt;/code&gt; transformer to numeric feature. This usually works if a column has numeric type. But when it comes to boolean type, &lt;code&gt;ReplacingMissingValue&lt;/code&gt; won't work any more as there's no Default NA value for a boolean type.&lt;/p&gt;
&lt;p&gt;The fix for this issue is in &lt;code&gt;AutoFeaturizer&lt;/code&gt;, check if a column with numeric purpose is boolean type or not, if it is boolean, then use &lt;code&gt;ConvertType&lt;/code&gt; transformer instead.&lt;/p&gt;
</description>
      <pubDate>Thu, 18 Aug 2022 19:14:57 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6290</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6290</link>
      <title>Issue: Native ML.NET notebook - @papyr</title>
      <description>&lt;p&gt;Hello, can we get a native notebook inside Visual Studio or VS Code, since we already have a designer surface with all the drag and drop controls?&lt;/p&gt;
</description>
      <pubDate>Thu, 18 Aug 2022 16:10:49 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6288</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6288</link>
      <title>Issue: [Issue, ML.net CLI] 330GB csv file of data cause a OutOfMemoryException (1/2) - @wil70</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Win8, latest version as of this bug entry&lt;/li&gt;
&lt;li&gt;ML.NET Version: 16.13.9&lt;/li&gt;
&lt;li&gt;.NET Version:6.0.303&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
When I start ML.net from CLI, I get a OutOfMemoryException
I have 64GB Ram, I have a 330GB csv file of data.&lt;/p&gt;
&lt;p&gt;I tried with
&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Generate a 330GB file with 4209 columns with random data&lt;/li&gt;
&lt;li&gt;open prompt&lt;/li&gt;
&lt;li&gt;type in command line:
mlnet classification --train-time 75600 --name SampleClassification --log-file-path c:\Log_data.txt --has-header true --label-col 4209 --ignore-cols 0,1,4206,4207,4208 --dataset &amp;quot;c:\data.csv&amp;quot; --test-dataset &amp;quot;c:\test_data.csv&amp;quot;&lt;/li&gt;
&lt;li&gt;See error log at the end of this message with the OutOfMemoryException&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
I expect ml.net to continue and feed the data as it stream it, so there should be no OutOfMemoryException
When I monitor the mknet.exe prices with task manager, the mlnet.exe process doesn't go high at all, like less than ~14GB. So something is not right as I have 64GB and also it shouldn't matter isn't it as .&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
&lt;strong&gt;Additional context&lt;/strong&gt;
Here is the log
Start Training
start nni training
Experiment output folder: C:\Users\W\AppData\Local\Temp\AutoML-NNI\Experiment-GET3JS
System.FormatException: Parsing failed with an exception: Stream reading encountered exception
---&amp;gt; System.FormatException: Stream reading encountered exception
---&amp;gt; System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
at System.Text.StringBuilder.ToString()
at System.IO.StreamReader.ReadLine()
at Microsoft.ML.Data.TextLoader.Cursor.LineReader.ThreadProc()
--- End of inner exception stack trace ---
at Microsoft.ML.Data.TextLoader.Cursor.LineReader.GetBatch()
at Microsoft.ML.Data.TextLoader.Cursor.ParallelState.Parse(Int32 tid)
at Microsoft.ML.Data.TextLoader.Cursor.ParallelState.ThreadProc(Object obj)
--- End of inner exception stack trace ---
at Microsoft.ML.Data.TextLoader.Cursor.ParseParallel(ParallelState state)+MoveNext()
at Microsoft.ML.Data.TextLoader.Cursor.MoveNextCore()
at Microsoft.ML.Data.RootCursorBase.MoveNext()
at Microsoft.ML.ModelBuilder.AutoMLService.Proposer.Controller.CountRows(IDataView data, Int64 maxRows) in /&lt;em&gt;/src/Microsoft.ML.ModelBuilder.AutoMLService/Proposer/Controller.cs:line 174
at Microsoft.ML.ModelBuilder.AutoMLService.Proposer.Controller.Initialize() in /&lt;/em&gt;/src/Microsoft.ML.ModelBuilder.AutoMLService/Proposer/Controller.cs:line 111
at Microsoft.ML.ModelBuilder.AutoMLService.Experiments.LocalAutoMLExperiment.ExecuteAsync(IDataView trainData, IDataView validateData, ColumnInformation columnInformation, CancellationToken cancellationToken, CancellationToken timeout) in /&lt;em&gt;/src/Microsoft.ML.ModelBuilder.AutoMLService/Experiments/LocalAutoMLExperiment.cs:line 138
at Microsoft.ML.ModelBuilder.AutoMLEngine.StartTrainingAsync(TrainingConfiguration config, PathConfiguration pathConfig, CancellationToken userCancellationToken) in /&lt;/em&gt;/src/Microsoft.ML.ModelBuilder.AutoMLService/AutoMLEngineService/AutoMLEngine.cs:line 160
at Microsoft.ML.CLI.Runners.AutoMLRunner.ExecuteAsync() in /&lt;em&gt;/src/mlnet/Runners/AutoMLRunner.cs:line 88
at Microsoft.ML.CLI.Program.TrainAsync(TrainingConfiguration trainingConfiguration, PathConfiguration pathConfig, AutoMLServiceLogLevel logLevel) in /&lt;/em&gt;/src/mlnet/Program.cs:line 348
at Microsoft.ML.CLI.Program.AutoMLCommandRunner(AutoMLCommand command, Boolean skipGenerateConsoleApp) in /&lt;em&gt;/src/mlnet/Program.cs:line 329
at Microsoft.ML.CLI.Program.&amp;lt;&amp;gt;c.&amp;lt;&lt;CreateRootCommandLineBuilder&gt;b__4_0&amp;gt;d.MoveNext() in /&lt;/em&gt;/src/mlnet/Program.cs:line 89
--- End of stack trace from previous location ---
at System.CommandLine.Invocation.CommandHandler.GetExitCodeAsync(Object value, InvocationContext context)
at System.CommandLine.Invocation.ModelBindingCommandHandler.InvokeAsync(InvocationContext context)
at System.CommandLine.Invocation.InvocationPipeline.&amp;lt;&amp;gt;c__DisplayClass4_0.&amp;lt;&lt;BuildInvocationChain&gt;b__0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c__DisplayClass23_0.&amp;lt;&lt;UseParseErrorReporting&gt;b__0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at Microsoft.ML.CLI.Program.&amp;lt;&amp;gt;c__DisplayClass4_0.&amp;lt;&lt;CreateRootCommandLineBuilder&gt;b__9&amp;gt;d.MoveNext() in /_/src/mlnet/Program.cs:line 290
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c.&amp;lt;&lt;UseSuggestDirective&gt;b__24_0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c__DisplayClass22_0.&amp;lt;&lt;UseParseDirective&gt;b__0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c__DisplayClass11_0.&amp;lt;&lt;UseDebugDirective&gt;b__0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c.&amp;lt;&lt;RegisterWithDotnetSuggest&gt;b__10_0&amp;gt;d.MoveNext()
--- End of stack trace from previous location ---
at System.CommandLine.Builder.CommandLineBuilderExtensions.&amp;lt;&amp;gt;c__DisplayClass14_0.&amp;lt;&lt;UseExceptionHandler&gt;b__0&amp;gt;d.MoveNext()
Check out log file for more information: c:\Log_data.txt
Exiting ...&lt;/p&gt;
&lt;p&gt;C:\Users\W&amp;gt;'&lt;/p&gt;
&lt;hr /&gt;
</description>
      <pubDate>Thu, 18 Aug 2022 03:42:03 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6287</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6287</link>
      <title>Issue: [ML.net cli] Early stop and resume/continue - @wil70</title>
      <description>&lt;p&gt;Hello, is there a way to end earlier a long training? Like I put 600000 seconds, and I have good results already, so I would like to finish it sooner. How do I do this?
A way to end earlier and also be able to resume/continue from there would be awesome (Like I could add x extra minutes of training)
TY!
w&lt;/p&gt;
</description>
      <pubDate>Wed, 17 Aug 2022 15:21:35 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6286</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6286</link>
      <title>Issue: [ML.net cli] Resume a cli training after a crash  - @wil70</title>
      <description>&lt;p&gt;Hello, is there a way to resume an ML.net cli training to where it was before a crash?
I have a lot of data in the folder C:\Users\wwww\AppData\Local\Temp\AutoML-NNI\Experiment-9K67B4 but I do not know how to make mlnet start from there.&lt;/p&gt;
&lt;p&gt;Detail:
I used the cli, ie &amp;quot;mlnet classicfiaction....&amp;quot;
I trained for a few days, but I made a mistake which used a lot of memory on my computer, which stopped the mlnet process. I would like to start mlnet to where it left so it can continue from there&lt;/p&gt;
&lt;p&gt;Thanks
w&lt;/p&gt;
&lt;p&gt;2022-08-10 15:03:24.3091 DEBUG System.InvalidOperationException: Event we were waiting on was subject to an exception
---&amp;gt; System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
at System.Array.Resize[T](T[]&amp;amp; array, Int32 newSize)
at Microsoft.ML.Internal.Utilities.ArrayUtils.EnsureSize[T](T[]&amp;amp; array, Int32 min, Int32 max, Boolean keepOld, Boolean&amp;amp; resized)
at Microsoft.ML.Data.CacheDataView.ColumnCache.ImplOne`1.CacheCurrent()
at Microsoft.ML.Data.CacheDataView.Filler(DataViewRowCursor cursor, ColumnCache[] caches, OrderedWaiter waiter)&lt;/p&gt;
</description>
      <pubDate>Wed, 17 Aug 2022 15:17:07 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6284</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6284</link>
      <title>Issue: Is there a way of not using ImageType constant values? - @sportbilly21</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10 19044.1826&lt;/li&gt;
&lt;li&gt;VS 2019, Microsoft.ML 1.71,Microsoft.ML.OnnxRuntime.GPU 12.1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I am have retrained a Tensorflow/Keras model with a resizing layer are part of the model.
I converted to ONNX with opset 11. In python onnx works as expected. I am feeding with what ever size of image and models does the resizing (224, 224) and delivers the predictions.&lt;/p&gt;
&lt;p&gt;In ML.Net I have created the pipeline and predictions engine. If I pass to the model with a 224x224 image I am getting the following error
System.ArgumentException: 'Length of memory (150528) must match product of dimensions (3).' from DenseTensor.shared.cs
If I pass to the model any other size of image I am getting the following
System.InvalidOperationException: 'Operation is not valid due to the current state of the object.' when try to run prediction engine,&lt;/p&gt;
&lt;p&gt;Is resizing layer not supported yes or I am doing something wrong.Please find below the code for the running the model&lt;/p&gt;
&lt;h3&gt;Source code / logs&lt;/h3&gt;
&lt;pre&gt;&lt;code class="language-C#"&gt;        public void GenerateModel(string modelLocation,string inputLayer, string outputLayer, List&amp;lt;string&amp;gt; cats, int gpuID = 0)
        {
            var pipeline = this.mlContext.Transforms.ExtractPixels(inputLayer, inputColumnName: nameof(ImageData.Image), colorsToExtract: ImagePixelExtractingEstimator.ColorBits.Rgb, orderOfExtraction: ImagePixelExtractingEstimator.ColorsOrder.ARGB, interleavePixelColors: false, outputAsFloatArray: true)
              .Append(this.mlContext.Transforms.ApplyOnnxModel(outputLayer, inputLayer, modelLocation));

            var data = this.mlContext.Data.LoadFromEnumerable(new List&amp;lt;ImageData&amp;gt;());
   
            this.model = pipeline.Fit(data); //;
            this.categories = cats;
            this. Predictor = this.mlContext.Model.CreatePredictionEngine&amp;lt;ImageData, ImagePrediction&amp;gt;(this.model);

       
        }

        public void ClassifySingleImage(ImageData imgClassify)
        {

            this. Prediction = this.predictor.Predict(imgClassify);
            this. Predictions = this.prediction.Preds;

        }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Many thanks&lt;/p&gt;
</description>
      <pubDate>Tue, 16 Aug 2022 15:04:09 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6283</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6283</link>
      <title>Issue: Text Classification API (preview 0.20.0-preview.22313.1) Method not found - @aforoughi1</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;PackageReference Include=&amp;quot;Microsoft.Data.Analysis&amp;quot; Version=&amp;quot;0.20.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML&amp;quot; Version=&amp;quot;2.0.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.AutoML&amp;quot; Version=&amp;quot;0.20.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.FastTree&amp;quot; Version=&amp;quot;2.0.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.LightGbm&amp;quot; Version=&amp;quot;2.0.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.TorchSharp&amp;quot; Version=&amp;quot;0.20.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;TorchSharp-cpu&amp;quot; Version=&amp;quot;0.97.3&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
When I call Fit to train the model, I get&lt;/p&gt;
&lt;p&gt;System.MissingMethodException
HResult=0x80131513
Message=Method not found: 'Void Module.train()'.
Source=Microsoft.ML.TorchSharp
StackTrace:
at Microsoft.ML.TorchSharp.NasBert.TextClassificationTrainer.Trainer..ctor(TextClassificationTrainer parent, IChannel ch)
at Microsoft.ML.TorchSharp.NasBert.TextClassificationTrainer.Fit(IDataView input)
at Microsoft.ML.Data.EstimatorChain`1.Fit(IDataView input)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;using Microsoft.ML;
using Microsoft.ML.AutoML;
using Microsoft.ML.Data;
using Microsoft.ML.TorchSharp;
using System.Linq;
using System.Threading.Tasks;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public class SentimentData
{
    [LoadColumn(0)]
    public string Sentence { get; set; }

    //Sentiment is a string: 'positive', 'negative' or 'neutral'
    [LoadColumn(1)]
    public string Sentiment { get; set; }

    // Label = {0:'neutral', 1:'positive',-1:'negative'}
    [LoadColumn(2)]
    public float Label { get; set; }
}


class Program
{
    static async Task Main(string[] args)
    {
        MLContext mlContext = new MLContext(seed: null);
        IDataView data = mlContext.Data.LoadFromTextFile&amp;lt;SentimentData&amp;gt;(@&amp;quot;..\..\..\FinancialPhraseBank.txt&amp;quot;, separatorChar: '\t', hasHeader: true);
        var preview = data.Preview(6000);

        var trainTestSplit = mlContext.Data.TrainTestSplit(data, testFraction: 0.2);
        var trainSet = trainTestSplit.TrainSet;
        var validationSet = trainTestSplit.TestSet;

        //Sentence is input
        //Sentiment is a string: 'positive', 'negative' or 'neutral'
        //Label = {0:'neutral', 1:'positive',-1:'negative'}

        var pipeline = mlContext.Transforms.Conversion.MapValueToKey(outputColumnName: &amp;quot;KeyColumn&amp;quot;, &amp;quot;Label&amp;quot;)
                                 .Append(mlContext.MulticlassClassification.Trainers.TextClassification(3, labelColumnName: &amp;quot;KeyColumn&amp;quot;, sentence1ColumnName: &amp;quot;Sentence&amp;quot;));


        //it crashes here
        var model = pipeline.Fit(trainSet);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/dotnet/machinelearning/files/9351179/FinancialPhraseBank.txt"&gt;FinancialPhraseBank.txt&lt;/a&gt;&lt;/p&gt;
</description>
      <pubDate>Tue, 16 Aug 2022 13:00:30 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6282</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6282</link>
      <title>Issue: Permutation Feature Importance for MulticlassClassification still seems to have issues - @acrigney</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: [e.g. Windows 10]&lt;/li&gt;
&lt;li&gt;ML.NET Version: [e.g. ML.NET v1.5.5]&lt;/li&gt;
&lt;li&gt;.NET Version: [e.g. .NET 5.0]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
A clear and concise description of what the bug is.
I see that new code for a new API for this has been released with the
PermutationFeatureImportanceExtensions.cs extension&lt;/p&gt;
&lt;p&gt;https://github.com/dotnet/machinelearning/blob/main/src/Microsoft.ML.Transforms/PermutationFeatureImportanceExtensions.cs&lt;/p&gt;
&lt;p&gt;But it uses MulticlassClassificationCatalog which is an internal class.
So I am trying to get the old way to work. But I have an error getting incompatible feature column types.
Here is an example.&lt;/p&gt;
&lt;p&gt;'Incompatible features column type: 'Vector&amp;lt;Single, 2&amp;gt;' vs 'Vector&amp;lt;Single, 4&amp;gt;''&lt;/p&gt;
&lt;p&gt;Here is some example code, I get the same type of error with my actual code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Go to '...'&lt;/li&gt;
&lt;li&gt;Click on '....'&lt;/li&gt;
&lt;li&gt;Scroll down to '....'&lt;/li&gt;
&lt;li&gt;See error&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
A clear and concise description of what you expected to happen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
If applicable, add scree
&lt;a href="https://github.com/dotnet/machinelearning/files/9314310/PFI.txt"&gt;PFI.txt&lt;/a&gt;
nshots, code snippets, or sample projects to help explain your problem.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Add any other context about the problem here.&lt;/p&gt;
</description>
      <pubDate>Fri, 12 Aug 2022 06:55:42 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6281</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6281</link>
      <title>Issue: Error while using Model.Save() - @ML-pixel</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Checked on multiple systems (win 10, win 2019,2021 server)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ML.NET Version: ML.NET 1.7.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;.NET Core 2.2.3&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
When saving trained model of very large size, xx GB the exception is thrown with the inner exception &amp;quot;The length cannot be greater than the capacity. ParameterName valueCount at System.Text.StringBuilder.Append() at Microsoft.Ml.Data.ReadOnlyMemoryUtils.AppendSpan ...etc
What I think is that the Save() uses StringBuilder.Append(char*,Int32) method and the int32 is a problem.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
1.Train extra large model
2.Try to save it with Model.Save()&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/110897666/183905634-e9f78564-e360-4c76-8aa0-d9edd5f96d7b.png" alt="error_Cut" /&gt;&lt;/p&gt;
</description>
      <pubDate>Wed, 10 Aug 2022 12:52:44 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6280</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6280</link>
      <title>Issue: How to make prediction of custom data with loaded model? Problem with Model.CreatePredictionEngine&lt;TSrc, TDst&gt; Is it possible to avoid strongly typed input/output - @rzechu</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS version/distro&lt;/strong&gt;: Windows 10&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.NET Version (eg., dotnet --info)&lt;/strong&gt;:  .NET 4.8&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Issue&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;What did you do?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Hello I'd like to implement &amp;quot;model creator&amp;quot; and &amp;quot;dynamic model&amp;quot; usage in our application to allow users to write SQL statements or use wizard to check database fields, prepare/train model (pick 3 columns and 1 as label - similiar to MLModelBuilder in VisualStudio), save model to disk/db, then use it later to predict values.
I made dynamic model preparation with AutoML (I guess it works fine with just plain sql / sql schema creation).
But problem is with implementing predictions
Its propably possible with dynamic data types (or not?) or reflection (I want to avoid this)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Model.CreatePredictionEngine&amp;lt;&lt;strong&gt;TSrc, TDst&lt;/strong&gt;&amp;gt; requires strongly typed input and outputs. Is there any workaround?
I'd like to put predictions model on custom forms with custom fields. I can load it, I know the fields used to predict/label but Its not possible without developer writing custom methods for each form type and recompilling application.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;What did you expect?&lt;/strong&gt; Create dynamic input/output by adding columns with types. I guess it should be possible in similliar way to generating DataTable, columns and datatypes during runtime.
Or something like Model.CreationPredictionEngine(model, inputschema, inputColumns, outputColumns)
Where columns are  column + type property + attributes if necessary&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Tue, 09 Aug 2022 07:34:49 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6278</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6278</link>
      <title>Issue: ML.net trainer keeps going back to bottleneck computation - @mandar1jn</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Windows 10&lt;/strong&gt;:&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dotnet 6.0.302&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Issue&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;I tried to create an image classification model&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ML.net goes to Bottleneck Computation, then to Training, then logs a lot of things about channels, and then restarts. this continues in an infinite log&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I expected it to continue training instead of going back to the start&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This happened on windows with the visual studio 2022 model builder and on Linux with the ml.net cli&lt;/p&gt;
&lt;h3&gt;Source code / logs&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/dotnet/machinelearning/files/9276989/ImageModel-R4IFKW.txt"&gt;ImageModel-R4IFKW.txt&lt;/a&gt;&lt;/p&gt;
</description>
      <pubDate>Sun, 07 Aug 2022 14:50:46 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6275</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6275</link>
      <title>Issue: [DataFrame] Head should return min(DF length, param) - @luisquintanilla</title>
      <description>&lt;h2&gt;Problem&lt;/h2&gt;
&lt;p&gt;Given a DataFrame with 3 rows, calling &lt;code&gt;Head(5)&lt;/code&gt; throws an error.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/46974588/183127094-cb6b8a88-b0b0-4412-a871-faa3f8691fcb.png" alt="image" /&gt;&lt;/p&gt;
&lt;h2&gt;Suggested solution&lt;/h2&gt;
&lt;p&gt;Head should return the minimum of the number provided as a parameter and the length of a DataFrame&lt;/p&gt;
</description>
      <pubDate>Fri, 05 Aug 2022 17:09:54 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6274</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6274</link>
      <title>Issue: [DataFrame] Info method display should be the same for DataFrame and DataFrameColumn - @luisquintanilla</title>
      <description>&lt;p&gt;The &lt;code&gt;Info&lt;/code&gt; method on a &lt;code&gt;DataFrame&lt;/code&gt; behaves different from that of a &lt;code&gt;DataFrameColumn&lt;/code&gt;. The DataFrame displays an &lt;code&gt;Info&lt;/code&gt; column with labels for each column's data point (DataType, Length). The DataFrameColumn displays the same information, without the labels. Update &lt;code&gt;DataFrameColumn.Info()&lt;/code&gt; method to display data with labels like &lt;code&gt;DataFrame&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/46974588/183125945-4a4da61b-716b-4d6f-9662-bd72eaaf9005.png" alt="image" /&gt;&lt;/p&gt;
</description>
      <pubDate>Fri, 05 Aug 2022 17:02:59 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6273</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6273</link>
      <title>Issue: Help with Custom VarVector to Vector mapping (does it have to so hard?) - @acrigney</title>
      <description>&lt;h3&gt;System information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS version/distro&lt;/strong&gt;: Windows 10&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.NET Version (eg., dotnet --info)&lt;/strong&gt;:
ML.NET v4.0.30319&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Issue&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;What did you do?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;I have a data class that contains single fields and fields that are arrays&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What happened?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;How to custom map the the varvector generated into a single vector&lt;/li&gt;
&lt;li&gt;similar to https://github.com/dotnet/machinelearning/issues/4977&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;What did you expect?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Easy way to convert the varvectors into a single vector&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Source code / logs&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;// Code abbreviated

MLContext mlContext = new MLContext();

SchemaDefinition definedSchema;            

// For fixed array dimension sizes use
definedSchema = SchemaDefinition.Create(typeof(MLDataForAnalysisFactored));

// If we can use variable array dimension sizes we can use this
int featuresCount = SetFeatureArrayDimensions(mlDataList, out definedSchema);

IDataView trainDataView = mlContext.Data.LoadFromEnumerable&amp;lt;MLDataForAnalysisFactored&amp;gt;(mlDataList, definedSchema);

// The label must not be in the input features
string[] features = typeof(MLDataForAnalysisFactored).GetProperties().ToList().
        Where(p =&amp;gt; p.Name != labelColumnName).Select(x =&amp;gt; x.Name).ToArray();

var estimatorChain = mlContext.Transforms.Conversion.MapValueToKey(outputColumnName: &amp;quot;Label&amp;quot;, inputColumnName: 
    nameof(MLDataForAnalysisFactored.Call))
    .Append(mlContext.Transforms.Concatenate(&amp;quot;Features&amp;quot;, features));

var transformedTrainData = estimatorChain.Fit(trainDataView);

trainDataView = transformedTrainData.Transform(trainDataView);

// check the data
var rowEnumerable = mlContext.Data
    .CreateEnumerable&amp;lt;MLDataForAnalysisFactored&amp;gt;(trainDataView,
    reuseRowObject: true).ToList();

var schema = trainDataView.Schema;

//var featureColumns = trainDataView.GetColumn&amp;lt;float[]&amp;gt;(trainDataView.Schema[&amp;quot;Features&amp;quot;]).Take(4);

//create a custom schema-definition that overrides the type for the Values field...  
var singleVectorSchemaDef = SchemaDefinition.Create(typeof(SingleVector));
singleVectorSchemaDef[nameof(SingleVector.Values)].ColumnType
              = new VectorDataViewType(NumberDataViewType.Single, featuresCount);

// How to do a custom transform to map the varvectors to a single vector?
// otherwise you have to do this.
////use that schema definition when creating the training dataview  
//trainDataView = mlContext.Data.LoadFromEnumerable(mlDataList, singleVectorSchemaDef);

// check the data

//        var someRows = mlContext.Data.  // Convert to an enumerable of user-defined type. 
//                .CreateEnumerable&amp;lt;MLDataForAnalysisFactored&amp;gt;(trainDataView, reuseRowObject: false)
//// Take a couple values as an array.
//.Take(4).ToArray();

// Extract the 'AllFeatures' column.
// This will give the entire dataset: make sure to only take several row
// in case the dataset is huge. The is similar to the static API, except
// you have to specify the column name and type.

//var featureColumns = estimatorChain.GetColumn&amp;lt;float[]&amp;gt;(trainDataView.Schema[&amp;quot;Features&amp;quot;]);

// STEP 2: Run AutoML experiment
Console.WriteLine($&amp;quot;Running AutoML multiclass classification experiment for {ExperimentTime} seconds...&amp;quot;);            

ExperimentResult&amp;lt;MulticlassClassificationMetrics&amp;gt; experimentResult = mlContext.Auto()
    .CreateMulticlassClassificationExperiment(ExperimentTime)
    .Execute(trainDataView, LabelColumnName, null, estimatorChain);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where SingleVector is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  public class SingleVector
  {
      //it's not required to specify the type here since we will override in our custom schema 
      public float[] Values;
  }
  // Above function SetFeatureArrayDimensions
  // You would expect that once the size of the var vectors has been set then that is all you should have to do but ML.NET needs
  // a single vector.
  private int SetFeatureArrayDimensions(List&amp;lt;MLDataForAnalysisFactored&amp;gt; mlDataList, out SchemaDefinition definedSchema)
      {
          int totalFeatureCount = 0;
          // STEP 1: Load data
  
          // The feature dimension (typically this will be the Count of the array 
          // of the features vector known at runtime).
          int featureArrayDimension = 0;
          definedSchema = SchemaDefinition.Create(typeof(MLDataForAnalysisFactored));
  
          var properties = typeof(MLDataForAnalysisFactored).GetProperties();
  
          foreach (var property in properties)
          {
              if (property.PropertyType.IsArray)
              {
                  Array array = property.GetValue(mlDataList[0]) as Array;
                  featureArrayDimension = array.Length;
                  totalFeatureCount += featureArrayDimension;
  
                  //// Set the column type to be a known-size vector.
                  var vectorItemType = ((VectorDataViewType)definedSchema[property.Name].ColumnType)
                              .ItemType;
  
                  definedSchema[property.Name].ColumnType = new VectorDataViewType(vectorItemType,
                      featureArrayDimension);
  
                  var featureColumn = definedSchema[property.Name]
                  .ColumnType as VectorDataViewType;
  
                  Diag.Debug.WriteLine($&amp;quot;Is the size of the Feature array {property.Name} column known: &amp;quot; +
                      $&amp;quot;{featureColumn.IsKnownSize}.\nSize: {featureColumn.Size}&amp;quot;);
              }
              else
              {
                  totalFeatureCount++;
              }
          }
          return (totalFeatureCount);
      }        
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Anyway I can get away with using fixed array sizes.
Please paste or attach the code or logs or traces that would be helpful to diagnose the issue you are reporting.&lt;/p&gt;
</description>
      <pubDate>Fri, 05 Aug 2022 08:06:19 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6271</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6271</link>
      <title>Issue: Dummy Estimator / Transformer ? - @vpenades</title>
      <description>&lt;p&gt;When creating a pipeline, the common practice is to write this sort of spaguetti code:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;
var pipeline = mlContext.Transforms.Something( .... )
    .Append( mlContext.Transforms.SomethingElse(...) )
    .Append( mlContext.Transforms.SomethingElse(...) )
    .Append( mlContext.Transforms.SomethingElse(...) )
    .Append( mlContext.Transforms.SomethingElse(...) )
    .Append( mlContext.Transforms.SomethingElse(...) )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If I want to split this into separated functions, each funcion will usually return some variation of &lt;code&gt;EstimatorChain&amp;lt;SomeTransformer&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The problem is every time I need to refactor which estimators I slice and move from one function to another, I need to continuosly change the returning type, because it depends on what was returned by the last .Append, and it's a complete pain.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I was wondering if there's some sort of &amp;quot;does nothing&amp;quot; &amp;quot;NoOp&amp;quot;, null, or Dummy Estimator/Transformer pair that does absolutely nothing, so it can always be returned by a function, by appending it as the last element, something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;
public EstimatorChain&amp;lt;DummyTransformer&amp;gt; GetPipeline1()
{
    var pipeline = mlContext.Transforms.Something( .... )
      .Append( mlContext.Transforms.SomethingElse(...) )
      .Append( mlContext.Transforms.SomethingElse(...) )
      .Append( mlContext.Transforms.DummyEstimator() );
}

public EstimatorChain&amp;lt;DummyTransformer&amp;gt; GetPipeline1()
{
    var pipeline = mlContext.Transforms.Something( .... )
      .Append( mlContext.Transforms.SomethingElse(...) )
      .Append( mlContext.Transforms.DummyEstimator() );
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So all the funcions will return the same type, which will help a lot in refactoring, and moving away from spaguetti code.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Right now I'm using a SelectColumns estimator, and selecting all current columns, which is the closest alternative I've found.&lt;/p&gt;
&lt;p&gt;I also considered implementing my own &amp;quot;dummy&amp;quot; estimator, by deriving from TrivialEstimator, but I don't have the knowledge to dig so deep.&lt;/p&gt;
</description>
      <pubDate>Wed, 03 Aug 2022 22:03:12 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6264</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6264</link>
      <title>Issue: Does the OpenVINO execution provider for ONNX Runtime work in ML.NET? - @natelowry</title>
      <description>&lt;p&gt;&lt;strong&gt;Is your feature request related to a problem? Please describe.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I'm using an ONNX model via &lt;code&gt;ApplyOnnxModel&lt;/code&gt; and some pre-processing (which is really fast!), but I'd like it to use the OpenVINO execution provider instead of just the CPU.&lt;/p&gt;
&lt;p&gt;We are maxing out the CPU and not hitting a high enough framerate with just the CPU.  CUDA with &lt;code&gt;gpuDeviceId&lt;/code&gt; is not an option due to hardware limitations.&lt;/p&gt;
&lt;p&gt;I can't figure out a way to make the ONNX Runtime called by ML.NET actually use the OpenVINO execution provider.  Is there something simple I'm missing?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I'd like the ONNX Runtime used by ML.NET to allow OpenVINO as an execution provider.  Maybe that's in the &lt;code&gt;ApplyOnnxModel&lt;/code&gt; options as something like &lt;code&gt;OnnxRuntime = OnnxRuntimes.OpenVINO&lt;/code&gt;, &lt;code&gt;OnnxRuntime = OnnxRuntimes.CUDA&lt;/code&gt;, or &lt;code&gt;OnnxRuntime = OnnxRuntimes.oneDNN&lt;/code&gt;, etc.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe alternatives you've considered&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I can run OpenVINO using the ONNX Runtime Nuget packages built with OpenVINO using &lt;code&gt;AppendExecutionProvider_OpenVINO&lt;/code&gt;, but the pre-processing is much slower and the level of abstraction is way lower than I'd like (making the pipeline harder to manage).  The inference runs at least 2x faster on the GPU though, so I want to use the GPU via that runtime.&lt;/p&gt;
&lt;p&gt;I've tried dropping in all the onnxruntime/openvino dlls to the executable directory to see if it uses those at runtime, but no luck.  Do I need to do a custom build of ML.NET?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I can provide some more source code or examples if that's helpful, but I think it's more of a concept question than code question.&lt;/p&gt;
&lt;p&gt;This is a great project and I appreciate everyone that's working on it.&lt;/p&gt;
</description>
      <pubDate>Fri, 29 Jul 2022 19:18:22 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6263</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6263</link>
      <title>Issue: Method not found: 'Void Module.train()'. - @tarekgh</title>
      <description>&lt;p&gt;This &lt;a href="https://github.com/dotnet/TorchSharp/issues/666"&gt;issue&lt;/a&gt; is originally reported by @drGarbinsky in TorchSharp repo and ported here.&lt;/p&gt;
&lt;p&gt;I'm currently trying to get the same running from this page: &lt;a href="https://devblogs.microsoft.com/dotnet/introducing-the-ml-dotnet-text-classification-api-preview/"&gt;devblogs.microsoft.com/dotnet/introducing-the-ml-dotnet-text-classification-api-preview&lt;/a&gt;
working with:
dotnet: 7.0.100-preview.6.22352.1
Microsoft.ML Version=&amp;quot;2.0.0-preview.22313.1&amp;quot;
Microsoft.ML.TorchSharp Version=&amp;quot;0.20.0-preview.22313.1&amp;quot;
TorchSharp-cpu Version=&amp;quot;0.97.0&amp;quot;&lt;/p&gt;
&lt;p&gt;WSL ubuntu: 20.04.3 LTS&lt;/p&gt;
&lt;p&gt;code:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-C#"&gt;using Microsoft.ML;
using Microsoft.ML.TorchSharp;

// Initialize MLContext
var mlContext = new MLContext();

// Load your data
var reviews = new[]
{
new {Text = &amp;quot;This is a bad steak&amp;quot;, Sentiment = &amp;quot;Negative&amp;quot;},
new {Text = &amp;quot;I really like this restaurant&amp;quot;, Sentiment = &amp;quot;Positive&amp;quot;}
};

var reviewsDV = mlContext.Data.LoadFromEnumerable(reviews);

//Define your training pipeline
var pipeline =
mlContext.Transforms.Conversion.MapValueToKey(&amp;quot;Label&amp;quot;, &amp;quot;Sentiment&amp;quot;)
.Append(mlContext.MulticlassClassification.Trainers.TextClassification(numberOfClasses: 2, sentence1ColumnName: &amp;quot;Text&amp;quot;))
.Append(mlContext.Transforms.Conversion.MapKeyToValue(&amp;quot;PredictedLabel&amp;quot;));

// Train the model
var model = pipeline.Fit(reviewsDV);

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@KernAlan wrote:&lt;/p&gt;
&lt;p&gt;I'm experiencing the same issue right now.&lt;/p&gt;
&lt;p&gt;@JReed221 wrote:&lt;/p&gt;
&lt;p&gt;I am experiencing this issue as well&lt;/p&gt;
&lt;p&gt;@drGarbinsky wrote:&lt;/p&gt;
&lt;p&gt;I've noticed that this &lt;a href="https://github.com/dotnet/csharp-notebooks/blob/main/machine-learning/E2E-Text-Classification-API-with-Yelp-Dataset.ipynb?rgh-link-date=2022-07-27T19%3A30%3A45Z"&gt;notebook &lt;/a&gt;references a newer version of the packages but I am unable to locate them&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;#i &amp;quot;nuget:&lt;a href="https://pkgs.dev.azure.com/dnceng/public/_packaging/MachineLearning/nuget/v3/index.json"&gt;pkgs.dev.azure.com/dnceng/public/_packaging/MachineLearning/nuget/v3/index.json&lt;/a&gt;&amp;quot;
#r &amp;quot;nuget:Microsoft.ML,2.0.0-preview.22324.1&amp;quot;
#r &amp;quot;nuget:Microsoft.ML.TorchSharp,0.20.0-preview.22324.1&amp;quot;
#r &amp;quot;nuget:TorchSharp-cpu,0.96.7&amp;quot;
#r &amp;quot;nuget:Microsoft.Data.Analysis,0.20.0-preview.22324.1&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have also reproduced this issue within the nightly docker image so I don't think it is an environment issue&lt;/p&gt;
&lt;p&gt;@drGarbinsky wrote&lt;/p&gt;
&lt;p&gt;I was able to work around the issue by rolling back package versions:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-Xml"&gt;&amp;lt;PackageReference Include=&amp;quot;libtorch-cpu-linux-x64&amp;quot; Version=&amp;quot;1.11.0.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.Data.Analysis&amp;quot; Version=&amp;quot;0.20.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML&amp;quot; Version=&amp;quot;2.0.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.TorchSharp&amp;quot; Version=&amp;quot;0.20.0-preview.22313.1&amp;quot; /&amp;gt;
&amp;lt;PackageReference Include=&amp;quot;TorchSharp-cpu&amp;quot; Version=&amp;quot;0.96.3&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;@JReed221 wrote&lt;/p&gt;
&lt;p&gt;that worked! thank you!&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote&lt;/p&gt;
&lt;p&gt;I believe that this is likely due to the fact that there was a breaking change made to Module.train() -- the previous version did not take an optional bool, which the Pytorch version does. That does not break source code dependencies, but breaks any binary dependency, since the signature has changed.&lt;/p&gt;
&lt;p&gt;Adding @luisquintanilla and @michaelgsharp to consult on what to do about this.&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote&lt;/p&gt;
&lt;p&gt;A potential fix is to not make the bool optional, but to have two train() declarations -- one with, and one without. The latter would unbreak the binary dependency, I believe.&lt;/p&gt;
&lt;p&gt;@luisquintanilla wrote:&lt;/p&gt;
&lt;p&gt;Hi all,&lt;/p&gt;
&lt;p&gt;Sorry to hear you ran into issues.&lt;/p&gt;
&lt;p&gt;I want to add clarity to the versions used in the notebook. The version in the notebook comes from the ML.NET daily feed. That version enables the use of the built-in Evaluate method in ML.NET and also makes it easier to work with the API. Previously you had to manually enter the number of classes you wanted to predict and couldn't use the evaluate method. This is the link to the daily feed if you want to get access to the latest versions of the ML.NET packages.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://pkgs.dev.azure.com/dnceng/public/_packaging/MachineLearning/nuget/v3/index.json"&gt;pkgs.dev.azure.com/dnceng/public/_packaging/MachineLearning/nuget/v3/index.json&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;That's a good suggestion @NiklasGustafsson. I also wonder if another alternative would be to instruct users to reference a specific version of TorchSharp (as @drGarbinsky has done to work around the issue). We've done something similar with TensorFlow.NET in the past. What would be the disadvantages of doing that (other than your code won't run using the latest version of TorchSharp)?&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What would be the disadvantages of doing that (other than your code won't run using the latest version of TorchSharp)?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That would be the disadvantage, in addition to the inconvenience of having to keep track of which version numbers work and not.&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote:&lt;/p&gt;
&lt;p&gt;Hmmm.&lt;/p&gt;
&lt;p&gt;The change I was thinking of was introduced in 0.97.0 last week, so if you have to go all the way back to 0.96.3 to fix it, that's very odd. @luisquintanilla -- is there any way you could try it out with 0.96.8?&lt;/p&gt;
&lt;p&gt;@tarekgh wrote:&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson &lt;a href="https://docs.microsoft.com/en-us/dotnet/core/compatibility/?ranMID=43674&amp;amp;ranEAID=rl2xnKiLcHs&amp;amp;ranSiteID=rl2xnKiLcHs-Vk6trHPJPdwOyqxWVzHUQQ&amp;amp;epi=rl2xnKiLcHs-Vk6trHPJPdwOyqxWVzHUQQ&amp;amp;irgwc=1&amp;amp;OCID=AID2200057_aff_7795_1243925&amp;amp;tduid=(ir__2m3q0nl02wkf6gcatnnkkvci0e2xve3sx63xgf9200)(7795)(1243925)(rl2xnKiLcHs-Vk6trHPJPdwOyqxWVzHUQQ)()&amp;amp;irclickid=_2m3q0nl02wkf6gcatnnkkvci0e2xve3sx63xgf9200"&gt;Changes that affect compatibility&lt;/a&gt; doc mentioning the following:&lt;/p&gt;
&lt;p&gt;❌ DISALLOWED: Removing the &lt;a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/virtual"&gt;virtual&lt;/a&gt; keyword from a member&lt;/p&gt;
&lt;p&gt;I guess the compiler will not bind to the method if the virtual removed from the member.&lt;/p&gt;
&lt;p&gt;@luisquintanilla should we just publish the latest of ML.NET to the NuGet instead of having it in the internal feed and recommend the users to use the latest?&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote:&lt;/p&gt;
&lt;p&gt;Another approach is to rebuild the ML.NET preview with 0.97.0 and pick up the new method definition.&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote:&lt;/p&gt;
&lt;p&gt;We should probably track this as an issue with ML.NET, too.&lt;/p&gt;
&lt;p&gt;@tarekgh wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We should probably track this as an issue with ML.NET, too.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Yes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Another approach is to rebuild the ML.NET preview with 0.97.0 and pick up the new method definition.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Is this the same as what I suggested to publish the latest ML.NET to NuGet which will make it works with Torch Sharp 0.97.0? and we recommend users use the latest version of ML.NET.&lt;/p&gt;
&lt;p&gt;@NiklasGustafsson wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Is this the same as what I suggested to publish the latest ML.NET to NuGet which will make it works with Torch Sharp 0.97.0? and we recommend users use the latest version of ML.NET.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Not sure. The issue should only affect binary dependencies, so if ML.NET is rebuilt against 0.97.0, how it is distributed is orthogonal, I believe.&lt;/p&gt;
&lt;p&gt;@tarekgh wrote:&lt;/p&gt;
&lt;p&gt;What I meant is update the Torch Sharp version in the file &lt;a href="https://github.com/dotnet/machinelearning/blob/4aad15b8f35b94554b2c5f7062d65a71e1b379b0/eng/Versions.props#L52"&gt;dotnet/machinelearning@4aad15b/eng/Versions.props#L52&lt;/a&gt; and then publish the new built ML.NET to NuGet.&lt;/p&gt;
</description>
      <pubDate>Thu, 28 Jul 2022 18:06:10 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6260</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6260</link>
      <title>Issue: Save IDataView to a database table - @PajLe</title>
      <description>&lt;p&gt;I am formatting this issue as a feature suggestion, however, I am also looking for a workaround - a way to do it without implementing this feature suggestion, as I haven't found a solid one yet (referencing to my &lt;a href="https://stackoverflow.com/questions/73080930/save-ml-net-idataview-to-a-database-table-without-poco"&gt;SO question&lt;/a&gt;).&lt;/p&gt;
&lt;h2&gt;Is your feature request related to a problem? Please describe.&lt;/h2&gt;
&lt;p&gt;I have a transformed &lt;code&gt;IDataView&lt;/code&gt; with prediction (&lt;code&gt;Score&lt;/code&gt;) column, input columns and one-hot encoded columns (working with regression task). I want to save only prediction and input values to a database table (i.e., I want to be able to choose which columns to save).&lt;/p&gt;
&lt;p&gt;My main obstacle seems to be not having a class (&lt;a href="https://en.wikipedia.org/wiki/Plain_old_CLR_object"&gt;POCO&lt;/a&gt;) representing the structure of the db model, but the main issue (trying to avoid the &lt;a href="https://en.wikipedia.org/wiki/XY_problem"&gt;XY problem&lt;/a&gt;) seems to be not having a convenient way to save it to a table (like &lt;a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.textloadersavercatalog.saveastext?view=ml-dotnet"&gt;there is for a text file&lt;/a&gt; for example).&lt;/p&gt;
&lt;h2&gt;Describe the solution you'd like&lt;/h2&gt;
&lt;p&gt;An ideal experience would be something like&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;IDataView.SaveToDatabase(/*db connection/connection string*/, /*list of columns*/)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;mlContext.Data.SaveToDatabase(IDataView, /*db connection/connection string*/, /*list of columns*/)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and possibly without loading the data into memory to be able to handle large data sets.&lt;/p&gt;
&lt;p&gt;A less ideal solution would be create an extension to &lt;code&gt;DataFrame&lt;/code&gt; for the same functionality - something similar to &lt;a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_sql.html"&gt;pandas.DataFrame.to_sql&lt;/a&gt;. So the user experience would be:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;IDataView predictions = trainedModel.Transform(...);
var df = predictions.ToDataFrame(...);
df.ToSql(/*db connection/connection string*/, /*list of columns*/, /*possibly other parameters*/)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Additional convenience (although this could be considered a completely separate feature):
My &lt;code&gt;IDataView&lt;/code&gt; is transformed using one-hot encoding, but I want to write the original input values to a db table. I couldn't leave the same column names for the output after transformation (i.e., I had to do &lt;code&gt;new InputOutputColumnPair(col.Name + &amp;quot;_onehot&amp;quot;, col.Name)&lt;/code&gt;) because the input columns would then be hidden, and I couldn't easily get their value. It would be nice to have a way to do this without renaming the transformed columns i.e., something like&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;IDataView predictions = ...
var columns = predictions.InputColumns + prediction.ScoreColumn 
/* returns a list of columns, where 
InputColumns are the original columns without transformation, 
ScoreColumn are the predicted values, 
The plus operator means appending to the list 
*/
predictions.SaveToDb(... , columns)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I am aware of the &lt;a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.data.schemaannotationsextensions.getslotnames?view=ml-dotnet"&gt;SchemaAnnotationsExtensions.GetSlotNames&lt;/a&gt; but that doesn't seem to cover my use-case conveniently.&lt;/p&gt;
&lt;h2&gt;Describe alternatives you've considered&lt;/h2&gt;
&lt;details&gt; 
  &lt;summary&gt;1. Create an `IEnumerable` from `IDataView` and write that to the DB&lt;/summary&gt;
&lt;p&gt;I used&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;IEnumerable&amp;lt;SomeType&amp;gt; predictionsEnumerable = 
    mlContext.Data.CreateEnumerable&amp;lt;SomeType&amp;gt;(predictions, reuseRowObject: true);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in order to try and write it to a DB table.
First problem is that I don't have the &lt;code&gt;SomeType&lt;/code&gt;. I tried using &lt;code&gt;dynamic&lt;/code&gt; or &lt;code&gt;object&lt;/code&gt;, but neither of them work - possibly related to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;#3829&lt;/li&gt;
&lt;li&gt;#5895 (although this one is for creating the IDataView, which wasn't a problem for me)
(probably unrelevant) I also tried reflection but I didn't manage to make anything work .&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Second problem is that even when I have the &lt;code&gt;SomeType&lt;/code&gt;, I only managed to write it with Dapper converting the &lt;code&gt;IEnumerable&lt;/code&gt; to a list. Without that I usually get the error
&lt;code&gt;The incoming tabular data stream (TDS) remote procedure call (RPC) protocol stream is incorrect. Parameter 4 (&amp;quot;&amp;quot;): Data type 0x40 is unknown.&lt;/code&gt;&lt;/p&gt;
&lt;/details&gt;
&lt;details&gt;
  &lt;summary&gt;2. Convert `IDataView` to `DataFrame` and write that to DB&lt;/summary&gt;
&lt;p&gt;I used&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;var df = predictions.ToDataFrame(long.MaxValue, columns.ToArray());
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to create a &lt;code&gt;DataFrame&lt;/code&gt; and tried to write that to the DB. I didn't manage to find a nice solution.&lt;/p&gt;
&lt;/details&gt;
&lt;details&gt;
  &lt;summary&gt;3. Manual type mapping&lt;/summary&gt;
&lt;p&gt;Tried to manually check the column type and get its value with the appropriate &lt;code&gt;ValueGetter&amp;lt;&amp;gt;&lt;/code&gt;, to later convert it to a row and save it to a db table. I later saw that &lt;code&gt;.ToDataFrame(...)&lt;/code&gt; does something similar, although much better in every aspect. Still, I failed to use the result  in combination with Dapper to insert it into a table (in my case, I failed to make a use of the &lt;code&gt;rows&lt;/code&gt; list). This also takes too much memory (didn't go too much into details, but around 2.5GB (half of it is &amp;quot;just my code&amp;quot;) was on the heap, and 5.1GB of RAM taken). Compared to converting it to a &lt;code&gt;DataFrame&lt;/code&gt; which takes just 1.1GB of RAM, (didn't check the heap). I assume my solution could be optimized, but that's not the point here.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;
columns = // list of columns
IDataView predictions = ...

IEnumerable&amp;lt;DataViewSchema.Column&amp;gt; dvColumns = columns.Select(col =&amp;gt; predictions.Schema[col]);
IList&amp;lt;object&amp;gt; rows = new List&amp;lt;object&amp;gt;();
using (var cursor = predictions.GetRowCursor(dvColumns))
{
    Dictionary&amp;lt;string, ValueGetter&amp;lt;ReadOnlyMemory&amp;lt;char&amp;gt;&amp;gt;&amp;gt; colGettersString = new();
    Dictionary&amp;lt;string, ValueGetter&amp;lt;float&amp;gt;&amp;gt; colGettersSingle = new();
    foreach (var col in dvColumns)
    {
        var colType = col.Type.RawType;
        if (col.Type.RawType == typeof(ReadOnlyMemory&amp;lt;char&amp;gt;))
        {
            colGettersString.Add(col.Name, cursor.GetGetter&amp;lt;ReadOnlyMemory&amp;lt;char&amp;gt;&amp;gt;(col));
        }

        if (col.Type.RawType == typeof(float))
        {
            colGettersSingle.Add(col.Name, cursor.GetGetter&amp;lt;float&amp;gt;(col));
        }
    }

    while (cursor.MoveNext())
    {
        ExpandoObject colValues = new(); // could use a regular dictionary here
        foreach (var col in dvColumns)
        {
            ReadOnlyMemory&amp;lt;char&amp;gt; colValueString = default;
            float colValueFloat = default;

            if (colGettersString.ContainsKey(col.Name))
                colGettersString[col.Name](ref colValueString);
            else if (colGettersSingle.ContainsKey(col.Name))
                colGettersSingle[col.Name](ref colValueFloat);

            string colValueStringString = colValueString.ToString();
            if (string.IsNullOrEmpty(colValueStringString))
                colValues.TryAdd(col.Name, colValueFloat);
            else
                colValues.TryAdd(col.Name, colValueStringString);
        }

        rows.Add(colValues);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/details&gt;
&lt;details&gt;
  &lt;summary&gt;4. Some other ideas&lt;/summary&gt;
&lt;p&gt;&lt;strong&gt;Using 3. and converting to JSON&lt;/strong&gt;
This seems to be like one of the workarounds, which I didn't complete. The idea is to take &lt;code&gt;rows&lt;/code&gt; list from 3. and convert it to JSON. Then, manipulate the JSON through SQL, which I gave up on as it seems too complicated. This also uses more memory as the JSON can be a large string with a lot of data.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Using reflection Emit&lt;/strong&gt;
Create a class dynamically and use that to create a db model class, to be used in &lt;code&gt;CreateEnumerable&lt;/code&gt;. I'm not sure how this works or if it is possible.&lt;/p&gt;
&lt;/details&gt;
&lt;h2&gt;Additional context&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;I am trying to insert data with Dapper into a SQL Server db&lt;/li&gt;
&lt;li&gt;Using .NET 6&lt;/li&gt;
&lt;li&gt;I am working with ~5 million rows of data with 5 columns&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Tue, 26 Jul 2022 16:15:18 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6258</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6258</link>
      <title>Issue: Model.Transform returns results in different order than the input DataView - @derekdiamond</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;
Windows 11
ML.NET 1.70
.NET 4.8&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I have the following code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;            var res = Model.Transform(dataView);
            var resSchema = res.Schema;
            var resCsr = res.GetRowCursor(resSchema);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When stepping through the result cursor the order of the results does not match the input order of the dataview. I need them in order so that I can match with the original dataset.&lt;/p&gt;
&lt;p&gt;As a work around I am doing the transform one by one, that is creating dataviews that return one row, so it can easily then match to the input dataset. However this is very very slow, taking half an hour to transform 2000 records.&lt;/p&gt;
&lt;p&gt;I either need a mechanism to pass a key value per record that is passed through the transform, without it being used in the training process.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Create a regression model on a simple set of data say some random values x,y, x + 2 * y.
Then create a test set of x,y's containing say 50 records. Then do a transform on the dataview and then traverse the result cursor and see that the x,y's are returned in a different order. However the first record always comes through first. Subsequent records come back in some random order.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Returned records from the result cursor should come through in the same order as the input dataview, or have a way to identify what record in the source the result record comes from. Note: trying to match on the input record column values could possibly be done, but the floating point values may not match exactly due to conversions from double to float and if there are many columns this becomes a slow process.&lt;/p&gt;
</description>
      <pubDate>Mon, 25 Jul 2022 10:54:23 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6257</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6257</link>
      <title>Issue: CreateEnumerable - System.IndexOutOfRangeException - @rzechu</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET Version: ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: Framework 4.8&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
I am receiving Index out of range exception after trying convert transformedData into enumerable.
Same line of code works fine for same code but using method  - DetectIidSpike and its parameters&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:
Here's minimal working example https://github.com/dotnet/machinelearning/issues/6257#issuecomment-1196329421&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    internal class LogsPrediction
    {
        //vector to hold alert,score,p-value values
        [VectorType(3)]
        public double[] Prediction { get; set; }
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sent parameters
List&lt;SourceRequestData&gt; SourceDatas /&lt;em&gt;12025 records but filtered inside loop to 517 records&lt;/em&gt;/,
int windowSize = 6,
int backAddWindowSize = 5,
int lookaheadWindowSize = 5,
int averagingWindowSize = 5,
int judgementWindowSize = 6,
double threshold = 0.01&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;public void DetectanAnomalyEnumerable(ref List&amp;lt;SourceRequestData&amp;gt; SourceDatas, int windowSize = 64, int backAddWindowSize = 5, int lookaheadWindowSize = 5, int averagingWindowSize = 5, int judgementWindowSize = 21, double threshold = 0.3)
        {
            try
            {
                var lambdaWorkAround = SourceDatas;
                var differentDefinitions = SourceDatas.Select(s =&amp;gt; new { RdMethodType = s.Rd_MethodType, RdMethodID = s.Rd_MethodId }).Distinct().ToList();

                Parallel.ForEach(differentDefinitions, definitionID =&amp;gt;
                {
                    if (windowSize &amp;lt; 5)
                        return;

                    var dataToCheck = lambdaWorkAround.Where(w =&amp;gt; w.Rd_MethodType == definitionID.RdMethodType &amp;amp;&amp;amp; w.Rd_MethodId == definitionID.RdMethodID).OrderBy(o =&amp;gt; o.Rd_ID).ToList();

                    IDataView dataView = mlContext.Data.LoadFromEnumerable&amp;lt;SourceRequestData&amp;gt;(dataToCheck);

                    lookaheadWindowSize = lookaheadWindowSize&amp;gt; windowSize  ? windowSize : lookaheadWindowSize;
                    averagingWindowSize = averagingWindowSize &amp;gt; windowSize  ? windowSize : averagingWindowSize;
                    judgementWindowSize = judgementWindowSize &amp;gt; windowSize  ? windowSize : judgementWindowSize;
                    threshold = threshold == 0 ? 0.01 : threshold;
                    threshold = threshold == 1 ? 0.99 : threshold;

                    var iidSpikeEstimator = mlContext.Transforms.DetectAnomalyBySrCnn(
                        outputColumnName: nameof(LogsPrediction.Prediction),
                        inputColumnName: nameof(SourceRequestData.Rd_DurationPerObject),
                        windowSize: windowSize,
                        backAddWindowSize: backAddWindowSize,
                        lookaheadWindowSize: lookaheadWindowSize,
                        averagingWindowSize: averagingWindowSize,
                        judgementWindowSize: judgementWindowSize,
                        threshold: threshold);
                    ITransformer iidSpikeTransform = iidSpikeEstimator.Fit(dataView);

                    IDataView transformedData = iidSpikeTransform.Transform(dataView);
//EXCEPTION HERE VVVVV
                    var predictions = mlContext.Data.CreateEnumerable&amp;lt;LogsPrediction&amp;gt;(transformedData, reuseRowObject: false).ToList();
//EXCEPTION HERE ^^^^^^^

                    var objectID = dataView.GetColumn&amp;lt;float&amp;gt;(nameof(SourceRequestData.Rd_ID)).ToArray();

                    for (int i = 0; i &amp;lt; predictions.Count(); i++)
                    {
                        if (predictions[i].Prediction[0] == 1)
                        {
                            var recordToChange = dataToCheck.Where(w =&amp;gt; w.Rd_ID == objectID[i]).FirstOrDefault();
                            recordToChange.IsSpike = true;
                        }
                    }
                });
                SourceDatas = lambdaWorkAround;
            }
            catch (Exception ex)
            {
                Console.WriteLine(ex);
            }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;at Microsoft.ML.Transforms.TimeSeries.SrCnnAnomalyDetectionBase.SrCnnAnomalyDetectionBaseCore.State.BackAdd(FixedSizeQueue&lt;code&gt;1 data) at Microsoft.ML.Transforms.TimeSeries.SrCnnAnomalyDetectionBase.SrCnnAnomalyDetectionBaseCore.State.SpectralResidual(Single input, FixedSizeQueue&lt;/code&gt;1 data, VBufferEditor&lt;code&gt;1&amp;amp; result) at Microsoft.ML.Transforms.TimeSeries.SrCnnTransformBase&lt;/code&gt;2.SrCnnStateBase.TransformCore(TInput&amp;amp; input, FixedSizeQueue&lt;code&gt;1 windowedBuffer, Int64 iteration, VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Transforms.TimeSeries.SequentialTransformerBase&lt;code&gt;3.StateBase.Process(TInput&amp;amp; input, TOutput&amp;amp; output) at Microsoft.ML.Transforms.LambdaTransform.&amp;lt;&amp;gt;c__DisplayClass5_0&lt;/code&gt;3.&lt;CreateMap&gt;b__0(TSrc src, TDst dst, TState state)
at Microsoft.ML.Transforms.StatefulFilterTransform&lt;code&gt;3.Cursor.RunLambda(Boolean&amp;amp; isRowAccepted) at Microsoft.ML.Transforms.StatefulFilterTransform&lt;/code&gt;3.Cursor.MoveNextCore()
at Microsoft.ML.Data.RootCursorBase.MoveNext()
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.RowCursorImplementation.MoveNext() at Microsoft.ML.PipeEngine&lt;/code&gt;1.&lt;RunPipe&gt;d__2.MoveNext()
at System.Collections.Generic.List&lt;code&gt;1..ctor(IEnumerable&lt;/code&gt;1 collection)
at System.Linq.Enumerable.ToList[TSource](IEnumerable&lt;code&gt;1 source) at MLNet.AnomalyDetection.&amp;lt;&amp;gt;c__DisplayClass5_1.&amp;lt;DetectanAnomalyEnumerable&amp;gt;b__1(&amp;lt;&amp;gt;f__AnonymousType0&lt;/code&gt;2 definitionID) in C:\Users\xyz.zys\Desktop\ML_NET\Common\MLNet\AnomalyDetection.cs:line 178
at System.Threading.Tasks.Parallel.&amp;lt;&amp;gt;c__DisplayClass17_0`1.&lt;ForWorker&gt;b__1()&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
**Expected behavior**
Enumerable object is returned (same code works for same method with DetectIidSpike and its own parameters)
&lt;/code&gt;&lt;/pre&gt;
</description>
      <pubDate>Thu, 21 Jul 2022 11:55:22 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6256</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6256</link>
      <title>Issue: [Azure ML] Azure training environment for supported training scenarios - @luisquintanilla</title>
      <description>&lt;p&gt;Currently in Model Builder, we support the following scenarios and environments:&lt;/p&gt;
&lt;p&gt;| Scenarios | Local | Azure |
| --- | --- | --- |
| Data classification | ✅ | ❌|
| Value Prediction | ✅ | ❌|
| Recommendation | ✅ | ❌|
| Forecasting | ✅ | ❌|
| Image classification | ✅ | ✅ |
| Object detection | ❌| ✅ |&lt;/p&gt;
&lt;p&gt;Enable Azure as a training environment for all supported scenarios:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[ ] Data classification&lt;/li&gt;
&lt;li&gt;[ ] Value prediction&lt;/li&gt;
&lt;li&gt;[ ] Recommendation&lt;/li&gt;
&lt;li&gt;[ ] Forecasting&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Wed, 20 Jul 2022 20:22:02 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6254</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6254</link>
      <title>Issue: Dead link in FastTreeRegressionTrainerClass Documentation - @avcarr2</title>
      <description>&lt;p&gt;The link to an article describing greedy function evaluation is broken: https://projecteuclid.org/DPubS?service=UI&amp;amp;version=1.0&amp;amp;verb=Display&amp;amp;handle=euclid.aos/1013203451.&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;Document Details&lt;/h4&gt;
&lt;p&gt;⚠ &lt;em&gt;Do not edit this section. It is required for docs.microsoft.com ➟ GitHub issue linking.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ID: 9f7b4cf1-c7bf-8141-180b-ea4474964153&lt;/li&gt;
&lt;li&gt;Version Independent ID: 6ba65d38-7383-fdfb-ada4-12caf50f71ab&lt;/li&gt;
&lt;li&gt;Content: &lt;a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.ml.trainers.fasttree.fasttreeregressiontrainer?view=ml-dotnet"&gt;FastTreeRegressionTrainer Class (Microsoft.ML.Trainers.FastTree)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Content Source: &lt;a href="https://github.com/dotnet/ml-api-docs/blob/live/dotnet/xml/Microsoft.ML.Trainers.FastTree/FastTreeRegressionTrainer.xml"&gt;dotnet/xml/Microsoft.ML.Trainers.FastTree/FastTreeRegressionTrainer.xml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Product: &lt;strong&gt;dotnet-ml-api&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;GitHub Login: @natke&lt;/li&gt;
&lt;li&gt;Microsoft Alias: &lt;strong&gt;nakersha&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
      <pubDate>Mon, 18 Jul 2022 18:27:45 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6253</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6253</link>
      <title>Issue: Error in code on this web page - @CBrauer</title>
      <description>&lt;p&gt;Why am I getting this error?
&lt;img src="https://user-images.githubusercontent.com/1317234/179406005-8a411a21-07a4-4c76-9bd2-edbaa9013e36.PNG" alt="error" /&gt;&lt;/p&gt;
</description>
      <pubDate>Sun, 17 Jul 2022 15:45:29 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6252</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6252</link>
      <title>Issue: KMeansTrainer can not be set single-threaded (NumberOfThreads=1) - @torronen</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows Server 2022&lt;/li&gt;
&lt;li&gt;ML.NET Version: 1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: .NET 6&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Sorry, I do not have more details at this time, but I will file this because I probably will forget about this otherwise.&lt;/em&gt;
My immediate issue is resolved by setting NumnberOfThreads = 2.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
I have a parallel app (Parallel.ForEach as main loop).
Inside it I do clustering. I try to set to only use on thread:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      var options = new KMeansTrainer.Options
            {
                NumberOfClusters = NumberOfClusters,
                OptimizationTolerance = 1e-6f,
                NumberOfThreads = 1, 
            };

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, I see spike in CPU usage on every clustering call when running only one thread from main app. The performance is very low if I enable multithreading on main app with low (5-10%) CPU consumption. There is also some deadlock or infinte loop etc. which, when inspected, shows lots of threads doing some sub-tasks of clustering but I could not find the root cause yet.&lt;/p&gt;
&lt;p&gt;After I set NumberOfThreads = 2, I see much smaller spike on CPU consumpition (in debug) and much better performance with 16 threads from the main loop. I still only reach about 18% CPU consumption, though, but it may be due to other issues. I can not yet confirm the deadlocks (or infinite loops etc) are gone.&lt;/p&gt;
&lt;p&gt;My suspect is that for whichever reason NumberOfThreads = 1 may be considered same as NumberOfThread=null (automatic).&lt;/p&gt;
</description>
      <pubDate>Thu, 14 Jul 2022 16:48:19 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6251</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6251</link>
      <title>Issue: Memory leak by Auto ML - @80LevelElf</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET Version: ML.NET 2.0 preview (but have the same results when using 1.7.1 versions)&lt;/li&gt;
&lt;li&gt;.NET Version: NET 5.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
I have noticed that time to time my kubernetas pod faced Out of memory exception. Regarding to Grafana it starts with 500 Mb and reach 6 Gb after some times of processing of queue of learning.&lt;/p&gt;
&lt;p&gt;Then I have tried to reproduce the problem on my local machine and looks like I have found a problem by memory profiling:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// Call AutoML learning inside
await container.Resolve&amp;lt;IMlModelLearningPartTrainer&amp;gt;().Learn(Guid.Parse(&amp;quot;43f60690-a594-4e8a-93bd-a91a2d836139&amp;quot;));

// After learning finishing forcely call the garbage collector
GC.Collect();

// Here I make a memory profiling
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And this is what I found:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://user-images.githubusercontent.com/3397048/178831225-d3c95eb4-c1ba-4e72-8ba2-549206f9d598.jpg" alt="Leak" /&gt;&lt;/p&gt;
&lt;p&gt;Looks like AutoML use some timer callback inside to stop the learning. But for some reason it's not disposing event after learning is already finished. This timer lambda catch the outer context of learning and this is why GC can't dispose learning data.&lt;/p&gt;
&lt;p&gt;And after 1 hour after end of the learning - this learning data are still in the memory. It's a memory leak.&lt;/p&gt;
&lt;p&gt;Hope this snapshots of our code help you. This is how we start the learning:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        var settings = new BinaryExperimentSettings
        {
            MaxExperimentTimeInSeconds = (uint) maxExperimentTime,
            OptimizingMetric = trainerAndMetric.Metric
        };
        
        settings.Trainers.Clear();
        settings.Trainers.Add(trainerAndMetric.Trainer);

        var experiment = mlContext.Auto().CreateBinaryClassificationExperiment(settings);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Start an AutoML learning for 5-10 minutes&lt;/li&gt;
&lt;li&gt;Whait the end of the learning&lt;/li&gt;
&lt;li&gt;Call GC.Collect&lt;/li&gt;
&lt;li&gt;Take a memory snapshot&lt;/li&gt;
&lt;li&gt;Check the data. Learning data are still in the memory&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
No data leak :)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
I reproduce the problem in 2.0 preview version of ML.NET and AutoML. But we upgrade the version tomorrow tring to solve the memory problem. We have the same out of memory problem at 2.0 preview and 1.7.1 versions. So I assume that the 1.7.1 version have the same memory leak problem.&lt;/p&gt;
</description>
      <pubDate>Wed, 13 Jul 2022 20:54:07 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6250</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6250</link>
      <title>Issue: Prediction engine outputs only one class - @elisaho</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10 build 19044.1766&lt;/li&gt;
&lt;li&gt;ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;.NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
For a given image input to the prediction engine, the output schema only allows for one output detected class (and a single corresponding score). However, I would like for all detected classes to be returned.
I am working on consuming the tensorflow model for object detection (exported from Custom Vision as GeneralCompactS1) in .Net using ML.NET. I have closely referenced:&lt;br /&gt;
&lt;a href="url"&gt;https://github.com/dotnet/machinelearning-samples/tree/main/samples/csharp/end-to-end-apps/DeepLearning_ImageClassification_TF/TFImageClassification &lt;/a&gt;
I know the model can return multiple detected classes as I have consumed the same tensorflow model with python, tensorflowsharp, and tensorflow.net. I have tried appending column names with ':0' and ':1'(e.g. detected_classes:0) and changing the output tensor types (e.g. for detected_classes, change long to long[]), both to no avail.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
I expect all detected classes and their corresponding scores to be returned.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178418379-6fa91a35-5518-47b6-af35-c5f2fc2c89f4.png" alt="image" /&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178418911-2ffebbb3-aa80-48ca-890f-eec5362cc251.png" alt="image" /&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178419006-30a660f7-0f7e-487b-b6a9-77b0ccc928ef.png" alt="image" /&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178419132-3d1d4a47-7514-4b63-96ad-a63df6314c6b.png" alt="image" /&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178419196-bf0bfe97-fd83-4dec-aa61-50f9beb13b61.png" alt="image" /&gt;
&lt;img src="https://user-images.githubusercontent.com/82560572/178419998-148f837e-8884-4643-9217-7101974259ea.png" alt="image" /&gt;
&lt;img width="766" alt="Screenshot 2022-07-12 160630" src="https://user-images.githubusercontent.com/82560572/178420335-968c8ae3-6dbd-42b9-9507-027de7675011.png"&gt;&lt;/p&gt;
</description>
      <pubDate>Tue, 12 Jul 2022 06:07:01 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6248</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6248</link>
      <title>Issue: Tensorflow's hardware CPu requirements, such as the minimum REQUIRED CPu configuration, do not use the GPU  - @wangLinWuYing</title>
      <description>&lt;p&gt;Tensorflow's hardware CPu requirements, such as the minimum REQUIRED CPu configuration, do not use the GPU&lt;/p&gt;
</description>
      <pubDate>Sat, 09 Jul 2022 09:00:06 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6244</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6244</link>
      <title>Issue: Exception When Doing Image Prediction On Ubuntu - @QuinnDamerell</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Ubuntu 20.04.4 LTS&lt;/li&gt;
&lt;li&gt;ML.NET Version: ML 1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I'm running a quite standard version of Ubuntu, using the latest dotnet 6.0 and latest ML libs, but for some reason, I'm getting this exception while trying to do an image clarification prediction on Linux. This logic work just fine on Windows.&lt;/p&gt;
&lt;p&gt;I looked up the issue and found this old bug from before dotnet 3.0.
https://github.com/dotnet/runtime/issues/27200&lt;/p&gt;
&lt;p&gt;I did however still ran &lt;code&gt;apt-get install libgdiplus libc6-dev&lt;/code&gt; and make sure the .so was in the /usr/lib dir where it should have been, yet I still get this issue.&lt;/p&gt;
&lt;p&gt;Error: Exception throw in GadgetMl perdict.; TypeInitializationException - The type initializer for 'Gdip' threw an exception. -    at System.Drawing.SafeNa&amp;gt;
at System.Drawing.Image.InitializeFromStream(Stream stream)
at System.Drawing.Image.LoadFromStream(Stream stream, Boolean keepAlive)
at System.Drawing.Image.FromStream(Stream stream, Boolean useEmbeddedColorManagement, Boolean validateImageData)
at System.Drawing.Image.FromStream(Stream stream, Boolean useEmbeddedColorManagement)
at System.Drawing.Image.FromStream(Stream stream)
at Microsoft.ML.Data.ImageLoadingTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass4_0.&lt;MakeGetterImageDataViewType&gt;b__1(Bitmap&amp;amp; dst)
at Microsoft.ML.Transforms.Image.ImageResizingTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass3_0.&lt;MakeGetter&gt;b__1(Bitmap&amp;amp; dst)
at Microsoft.ML.Transforms.Image.ImagePixelExtractingTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass5_0&lt;code&gt;1.&amp;lt;GetGetterCore&amp;gt;b__1(VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.NamedOnnxValueGetterVec&lt;code&gt;1.GetNamedOnnxValue() at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.UpdateCacheIfNeeded(Int64 position, INamedOnnxValueGetter[] srcNamedOnnxValueGetters, List&lt;/code&gt;1 activ&amp;gt;
at Microsoft.ML.Transforms.Onnx.OnnxTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass14_0&lt;code&gt;1.&amp;lt;MakeTensorGetter&amp;gt;b__0(VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.&amp;lt;&amp;gt;c__DisplayClass8_0&lt;/code&gt;1.&lt;CreateDirectVBufferSetter&gt;b__0(TRow row)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.FillValues(TRow row) at Microsoft.ML.Data.TypedCursorable&lt;/code&gt;1.RowImplementation.FillValues(TRow row)
at Microsoft.ML.PredictionEngineBase&lt;code&gt;2.FillValues(TDst prediction) at Microsoft.ML.PredictionEngine&lt;/code&gt;2.Predict(TSrc example, TDst&amp;amp; prediction)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
A clear and concise description of what you expected to happen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
If applicable, add screenshots, code snippets, or sample projects to help explain your problem.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Add any other context about the problem here.&lt;/p&gt;
</description>
      <pubDate>Sun, 03 Jul 2022 05:00:16 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6241</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6241</link>
      <title>Issue: load ONNX model(RNN[LSTM]) can not work  - @zhangfeibao</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: Windows 10]&lt;/li&gt;
&lt;li&gt;ML.NET Version: ML.NET v1.5.5&lt;/li&gt;
&lt;li&gt;.NET Version: NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I got the onnx model from tf2.
The model infomation is:
&lt;img src="https://user-images.githubusercontent.com/12379132/176447293-f3e6f9f2-cba6-4dfc-a53f-f3a6f7932c08.png" alt="image" /&gt;
I load the onnx model follow the &lt;a href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-use-automl-onnx-model-dotnet"&gt;document.&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-c#"&gt;private static ITransformer GetPredictionPipeline(MLContext mlContext)
{
    var inputColumns = new string[]
    {
        &amp;quot;model&amp;quot;
    };

    var outputColumns = new string[] { &amp;quot;dense&amp;quot; };

    var onnxPredictionPipeline =
        mlContext
        .Transforms
        .ApplyOnnxModel(
        outputColumnNames: outputColumns,
        inputColumnNames: inputColumns,
        ONNX_MODEL_PATH);

    var emptyDv = mlContext.Data.LoadFromEnumerable(new OnnxInput[] {});    //the line will throw the exception

    return onnxPredictionPipeline.Fit(emptyDv);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;when i ran the app,I got the exception at the line.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;System.InvalidOperationException:“Input&lt;/strong&gt; shape mismatch: Input 'model' has shape 1,50,4, but input data is of length 1.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I have tryed many time to resove the problem.but it just can't work!&lt;/p&gt;
</description>
      <pubDate>Wed, 29 Jun 2022 13:37:39 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6240</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6240</link>
      <title>Issue: Could not load file or assembly 'System.Runtime.CompilerServices.Unsafe, Version=4.0.4.1 - @IzzyHibbert</title>
      <description>&lt;p&gt;System Info :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS : Win 2019&lt;/li&gt;
&lt;li&gt;ML.NET Version: 1.5, tried already 1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: 4.7.2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Issue :
I am trying to use ML in my .NET 4.7.2 class library project.
I imported ML with Nuget, created the model, and when I use the dll I get the following error :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&amp;gt; System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&amp;gt; System.IO.FileLoadException: Could not load file or assembly 'System.Runtime.CompilerServices.Unsafe, Version=4.0.4.1, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)
at System.MemoryExtensions.AsSpan(String text)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;the app.config file has the entry:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        &amp;lt;dependentAssembly&amp;gt;
            &amp;lt;assemblyIdentity name=&amp;quot;System.Runtime.CompilerServices.Unsafe&amp;quot; publicKeyToken=&amp;quot;b03f5f7f11d50a3a&amp;quot; culture=&amp;quot;neutral&amp;quot; /&amp;gt;
            &amp;lt;bindingRedirect oldVersion=&amp;quot;0.0.0.0-4.0.4.1&amp;quot; newVersion=&amp;quot;4.0.4.1&amp;quot; /&amp;gt;
        &amp;lt;/dependentAssembly&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the installed unsafe package is 4.5.3
I also tried to solve this by using other versions of ML.net, but still getting the same error.
Also, running a unit test on this was fine without any error.&lt;/p&gt;
&lt;p&gt;Is there anything more that could be done ?&lt;/p&gt;
</description>
      <pubDate>Wed, 29 Jun 2022 08:51:46 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6238</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6238</link>
      <title>Issue: [DataFrame] Allow quote escaping - @luisquintanilla</title>
      <description>&lt;p&gt;Loading data from a column containing quotes inside a string shouldn't break.&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-text"&gt;&amp;quot;this is one column value which includes a &amp;quot;&amp;quot; character&amp;quot; 
&lt;/code&gt;&lt;/pre&gt;
</description>
      <pubDate>Tue, 28 Jun 2022 00:30:46 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6237</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6237</link>
      <title>Issue: Issue saving model to .onnx format - @jonathanpeppers</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version:  Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET Version: 1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: .NET 6&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I trained a model with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mlnet classification --dataset classified.csv --label-col 1 --has-header true --train-time 60
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Opened the resulting project, and tried to change it to save the model file as &lt;code&gt;.onnx&lt;/code&gt; format:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/dotnet/machinelearning/files/8977193/SampleClassification.zip"&gt;SampleClassification.zip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Installed the NuGet:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xml"&gt;&amp;lt;PackageReference Include=&amp;quot;Microsoft.ML.OnnxConverter&amp;quot; Version=&amp;quot;0.19.1&amp;quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Trying something like:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;private static void SaveModel(MLContext mlContext, IDataView dataView, ITransformer mlModel, string modelRelativePath, DataViewSchema modelInputSchema)
{
    // Save/persist the trained model to a .ZIP file
    Console.WriteLine($&amp;quot;=============== Saving the model  ===============&amp;quot;);
    //mlContext.Model.Save(mlModel, modelInputSchema, GetAbsolutePath(modelRelativePath));
    using var fileStream = File.Create(modelRelativePath);
    mlContext.Model.ConvertToOnnx(mlModel, dataView, fileStream);

    Console.WriteLine(&amp;quot;The model is saved to {0}&amp;quot;, GetAbsolutePath(modelRelativePath));
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Throws an exception:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;System.Collections.Generic.KeyNotFoundException
  HResult=0x80131577
  Message=The given key 'text_TextNormalizer' was not present in the dictionary.
  Source=System.Private.CoreLib
  StackTrace:
   at System.ThrowHelper.ThrowKeyNotFoundException[T](T key)
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at Microsoft.ML.Model.OnnxConverter.OnnxContextImpl.GetVariableName(String colName)
   at Microsoft.ML.Transforms.Text.WordTokenizingTransformer.Mapper.SaveAsOnnx(OnnxContext ctx)
   at Microsoft.ML.Data.RowToRowMapperTransform.Microsoft.ML.Model.OnnxConverter.ISaveAsOnnx.SaveAsOnnx(OnnxContext ctx)
   at Microsoft.ML.Model.OnnxConverter.SaveOnnxCommand.ConvertTransformListToOnnxModel(OnnxContextImpl ctx, IChannel ch, IDataView inputData, IDataView outputData, LinkedList`1 transforms, HashSet`1 inputColumnNamesToDrop, HashSet`1 outputColumnNamesToDrop)
   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnxProtobufCore(IHostEnvironment env, OnnxContextImpl ctx, ITransformer transform, IDataView inputData, String[] outputColumnNamesToKeep)
   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnxProtobuf(ModelOperationsCatalog catalog, ITransformer transform, IDataView inputData, String[] outputColumns)
   at Microsoft.ML.OnnxExportExtensions.ConvertToOnnx(ModelOperationsCatalog catalog, ITransformer transform, IDataView inputData, Stream stream)
   at SampleClassification.ConsoleApp.ModelBuilder.SaveModel(MLContext mlContext, IDataView dataView, ITransformer mlModel, String modelRelativePath, DataViewSchema modelInputSchema) in C:\Users\jopepper\Downloads\SampleClassification (2)\SampleClassification.ConsoleApp\ModelBuilder.cs:line 92
   at SampleClassification.ConsoleApp.ModelBuilder.CreateModel() in C:\Users\jopepper\Downloads\SampleClassification (2)\SampleClassification.ConsoleApp\ModelBuilder.cs:line 47
   at SampleClassification.ConsoleApp.Program.Main(String[] args) in C:\Users\jopepper\Downloads\SampleClassification (2)\SampleClassification.ConsoleApp\Program.cs:line 16
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open the above project in VS&lt;/li&gt;
&lt;li&gt;Run it&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We need to convert our model to &lt;code&gt;.onnx&lt;/code&gt; format, to be able to use it from JavaScript, and I think this is the best option? Let me know otherwise.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Sample above.&lt;/p&gt;
</description>
      <pubDate>Fri, 24 Jun 2022 15:17:17 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6236</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6236</link>
      <title>Issue: Can´t make prediction with code trained model - @paul1610</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows 10&lt;/li&gt;
&lt;li&gt;ML.NET Version: ML.NET v1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: .NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
When I tried to get a prediction from a new trained model, the error&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;System.ArgumentOutOfRangeException: 'Could not find input column 'ImagePath'
Parameter name: inputSchema'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
The final model should be saved &amp;amp; used for prediction.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
GitHub Repository: https://github.com/paul1610/csharp-faceid&lt;/p&gt;
</description>
      <pubDate>Fri, 24 Jun 2022 08:59:22 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6233</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6233</link>
      <title>Issue: Can't make image classification prediction on MacOS using a Tensorflow model - @vadd98</title>
      <description>&lt;p&gt;&lt;strong&gt;System Information (please complete the following information):&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS &amp;amp; Version: MacOS 12.4&lt;/li&gt;
&lt;li&gt;ML.NET Version: Microsoft.ML 1.7.1&lt;/li&gt;
&lt;li&gt;.NET Version: NET 6.0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Describe the bug&lt;/strong&gt;
It seems impossible to make prediction based on images using a Tensorflow model on Mac.
I'm always getting this error:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Unhandled exception. System.IndexOutOfRangeException: Index was outside the bounds of the array. at Microsoft.ML.Transforms.Image.ImagePixelExtractingTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass5_0&lt;/code&gt;1.&lt;GetGetterCore&gt;b__1(VBuffer&lt;code&gt;1&amp;amp; dst) at Microsoft.ML.Transforms.TensorFlowTransformer.TensorValueGetterVec&lt;/code&gt;1.GetTensor()
at Microsoft.ML.Transforms.TensorFlowTransformer.Mapper.UpdateCacheIfNeeded(Int64 position, ITensorValueGetter[] srcTensorGetters, String[] activeOutputColNames, OutputCache outputCache)
at Microsoft.ML.Transforms.TensorFlowTransformer.Mapper.&amp;lt;&amp;gt;c__DisplayClass11_0&lt;code&gt;1.&amp;lt;MakeGetter&amp;gt;b__4(VBuffer&lt;/code&gt;1&amp;amp; dst)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.&amp;lt;&amp;gt;c__DisplayClass8_0&lt;/code&gt;1.&lt;CreateDirectVBufferSetter&gt;b__0(TRow row)
at Microsoft.ML.Data.TypedCursorable&lt;code&gt;1.TypedRowBase.FillValues(TRow row) at Microsoft.ML.Data.TypedCursorable&lt;/code&gt;1.RowImplementation.FillValues(TRow row)
at Microsoft.ML.PredictionEngineBase&lt;code&gt;2.FillValues(TDst prediction) at Microsoft.ML.PredictionEngine&lt;/code&gt;2.Predict(TSrc example, TDst&amp;amp; prediction)
at Microsoft.ML.PredictionEngineBase&lt;code&gt;2.Predict(TSrc example) &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The exact same code with same model and same images to predict works flawlessly on Windows 10.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To Reproduce&lt;/strong&gt;
Steps to reproduce the behavior:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Train a Tensorflow Model (I trained the model using Python)&lt;/li&gt;
&lt;li&gt;Import the trained model in ML.NET&lt;/li&gt;
&lt;li&gt;Try to make a prediction starting from an image&lt;/li&gt;
&lt;li&gt;See error&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Expected behavior&lt;/strong&gt;
Make predictions without exceptions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Screenshots, Code, Sample Projects&lt;/strong&gt;
If applicable, add screenshots, code snippets, or sample projects to help explain your problem.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Additional context&lt;/strong&gt;
Add any other context about the problem here.&lt;/p&gt;
</description>
      <pubDate>Fri, 17 Jun 2022 19:05:11 Z</pubDate>
    </item>
    <item>
      <guid isPermaLink="true">https://github.com/dotnet/machinelearning/issues/6232</guid>
      <link>https://github.com/dotnet/machinelearning/issues/6232</link>
      <title>Issue: [Nice to have] having transformers to get date information from Datetime - @LittleLittleCloud</title>
      <description>&lt;p&gt;ModelBuilder just add support for &lt;code&gt;Datetime&lt;/code&gt; type, in order to make the most use of this type, it would be helpful if ML.Net has API to extract specific date information from datetime column&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Describe the solution you'd like&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-csharp"&gt;class Input
{
    public Datetime date {get; set;]
}

var pipeline = mlContext.Transformer.GetYearOutOfDate(&amp;quot;year&amp;quot;, &amp;quot;date&amp;quot;)
                            .Append(mlContext.Transformer.GetDayOutOfDate(&amp;quot;day&amp;quot;, &amp;quot;date&amp;quot;)
                            .Append(mlContext.Transformer.GetWeekdayOutOfDate(&amp;quot;weekday&amp;quot;, &amp;quot;date&amp;quot;)
                            .Append(mlContext.Transformer.GetMonthOutOfDate(&amp;quot;month&amp;quot;, &amp;quot;date&amp;quot;);
class Output
{
    public Datetme date {get; set;}
    public int Year {get; set;}
    public int day {get; set;}
    public string Month {get; set;} // Feb, Jan... 
    public string Weekday {get; set;} // Mon, Tue,..
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;What's more&lt;/h2&gt;
&lt;p&gt;ignore this issue if ML.Net already support that.&lt;/p&gt;
</description>
      <pubDate>Thu, 16 Jun 2022 16:44:30 Z</pubDate>
    </item>
  </channel>
</rss>